import{s as de,r as Fe,f as Ce,g as ze,h as se,d as O,j as p,E as he,i as Z,B as ke,w as Ze,x as qe,y as Ge,C as ct,I as $n,A as U,G as Qt,a as pe,l as Tt,c as Se,m as Ht,n as Dt,J as x,K as De,F as Ne,L as ye,e as me,M as be,k as ae,v as Oe,N as Me,O as We,P as Q,Q as ei,p as ci,R as Vo,q as yn,H as ol,z as _e,o as Io,S as zt,T as Pt,u as rl,U as ll,V as sl,W as al,X as ul,Y as cl,Z as fl,_ as Mi,$ as dl}from"../chunks/scheduler.FzHS2FI6.js";import{S as ce,i as fe,a as D,t as B,b as ee,d as re,m as te,e as ne,g as Ae,c as Te}from"../chunks/index.s-A4zFi5.js";import{w as oe,d as Wt,r as gt}from"../chunks/index.kgseBrzj.js";import{e as et,u as jt,o as xt,M as hl}from"../chunks/index.SKmR1kNU.js";const gl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ut(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Ft(t){return typeof t=="object"&&t!==null?t:{}}function Pe(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Pe(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var ml={value:()=>{}};function An(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new hn(n)}function hn(t){this._=t}function _l(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}hn.prototype=An.prototype={constructor:hn,on:function(t,e){var n=this._,i=_l(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=yl(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=Ci(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Ci(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new hn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function yl(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Ci(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=ml,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ti="http://www.w3.org/1999/xhtml";const zi={svg:"http://www.w3.org/2000/svg",xhtml:ti,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),zi.hasOwnProperty(e)?{space:zi[e],local:t}:t}function bl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ti&&e.documentElement.namespaceURI===ti?e.createElement(t):e.createElementNS(n,t)}}function wl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ro(t){var e=Tn(t);return(e.local?wl:bl)(e)}function vl(){}function fi(t){return t==null?vl:function(){return this.querySelector(t)}}function kl(t){typeof t!="function"&&(t=fi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,c=0;c<s;++c)(a=r[c])&&(u=t.call(a,a.__data__,c,r))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Be(i,this._parents)}function pl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sl(){return[]}function Bo(t){return t==null?Sl:function(){return this.querySelectorAll(t)}}function El(t){return function(){return pl(t.apply(this,arguments))}}function Ml(t){typeof t=="function"?t=El(t):t=Bo(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new Be(i,o)}function Xo(t){return function(){return this.matches(t)}}function Yo(t){return function(e){return e.matches(t)}}var Cl=Array.prototype.find;function zl(t){return function(){return Cl.call(this.children,t)}}function Pl(){return this.firstElementChild}function Nl(t){return this.select(t==null?Pl:zl(typeof t=="function"?t:Yo(t)))}var Ol=Array.prototype.filter;function Al(){return Array.from(this.children)}function Tl(t){return function(){return Ol.call(this.children,t)}}function Hl(t){return this.selectAll(t==null?Al:Tl(typeof t=="function"?t:Yo(t)))}function Dl(t){typeof t!="function"&&(t=Xo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Be(i,this._parents)}function Lo(t){return new Array(t.length)}function Vl(){return new Be(this._enter||this._groups.map(Lo),this._parents)}function bn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}bn.prototype={constructor:bn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Il(t){return function(){return t}}function Rl(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new bn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Bl(t,e,n,i,o,r,s){var l,a,u=new Map,c=e.length,d=r.length,f=new Array(c),h;for(l=0;l<c;++l)(a=e[l])&&(f[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new bn(t,r[l]);for(l=0;l<c;++l)(a=e[l])&&u.get(f[l])===a&&(o[l]=a)}function Xl(t){return t.__data__}function Yl(t,e){if(!arguments.length)return Array.from(this,Xl);var n=e?Bl:Rl,i=this._parents,o=this._groups;typeof t!="function"&&(t=Il(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var c=i[u],d=o[u],f=d.length,h=Ll(t.call(c,c&&c.__data__,u,i)),m=h.length,g=l[u]=new Array(m),w=s[u]=new Array(m),y=a[u]=new Array(f);n(c,d,g,w,y,h,e);for(var E=0,v=0,k,H;E<m;++E)if(k=g[E]){for(E>=v&&(v=E+1);!(H=w[v])&&++v<m;);k._next=H||null}}return s=new Be(s,i),s._enter=l,s._exit=a,s}function Ll(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kl(){return new Be(this._exit||this._groups.map(Lo),this._parents)}function Wl(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Fl(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=i[a],d=u.length,f=l[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;a<o;++a)l[a]=n[a];return new Be(l,this._parents)}function Zl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function ql(t){t||(t=Gl);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(e)}return new Be(o,this._parents).order()}function Gl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ul(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Jl(){return Array.from(this)}function Ql(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function jl(){let t=0;for(const e of this)++t;return t}function xl(){return!this.node()}function $l(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function es(t){return function(){this.removeAttribute(t)}}function ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ns(t,e){return function(){this.setAttribute(t,e)}}function is(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function os(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ls(t,e){var n=Tn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?ts:es:typeof e=="function"?n.local?rs:os:n.local?is:ns)(n,e))}function Ko(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ss(t){return function(){this.style.removeProperty(t)}}function as(t,e,n){return function(){this.style.setProperty(t,e,n)}}function us(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function cs(t,e,n){return arguments.length>1?this.each((e==null?ss:typeof e=="function"?us:as)(t,e,n??"")):Nt(this.node(),t)}function Nt(t,e){return t.style.getPropertyValue(e)||Ko(t).getComputedStyle(t,null).getPropertyValue(e)}function fs(t){return function(){delete this[t]}}function ds(t,e){return function(){this[t]=e}}function hs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gs(t,e){return arguments.length>1?this.each((e==null?fs:typeof e=="function"?hs:ds)(t,e)):this.node()[t]}function Wo(t){return t.trim().split(/^|\s+/)}function di(t){return t.classList||new Fo(t)}function Fo(t){this._node=t,this._names=Wo(t.getAttribute("class")||"")}Fo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Zo(t,e){for(var n=di(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function qo(t,e){for(var n=di(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function ms(t){return function(){Zo(this,t)}}function _s(t){return function(){qo(this,t)}}function ys(t,e){return function(){(e.apply(this,arguments)?Zo:qo)(this,t)}}function bs(t,e){var n=Wo(t+"");if(arguments.length<2){for(var i=di(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?ys:e?ms:_s)(n,e))}function ws(){this.textContent=""}function vs(t){return function(){this.textContent=t}}function ks(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ps(t){return arguments.length?this.each(t==null?ws:(typeof t=="function"?ks:vs)(t)):this.node().textContent}function Ss(){this.innerHTML=""}function Es(t){return function(){this.innerHTML=t}}function Ms(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Cs(t){return arguments.length?this.each(t==null?Ss:(typeof t=="function"?Ms:Es)(t)):this.node().innerHTML}function zs(){this.nextSibling&&this.parentNode.appendChild(this)}function Ps(){return this.each(zs)}function Ns(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Os(){return this.each(Ns)}function As(t){var e=typeof t=="function"?t:Ro(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ts(){return null}function Hs(t,e){var n=typeof t=="function"?t:Ro(t),i=e==null?Ts:typeof e=="function"?e:fi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ds(){var t=this.parentNode;t&&t.removeChild(this)}function Vs(){return this.each(Ds)}function Is(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bs(t){return this.select(t?Rs:Is)}function Xs(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ys(t){return function(e){t.call(this,e,this.__data__)}}function Ls(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Ks(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ws(t,e,n){return function(){var i=this.__on,o,r=Ys(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Fs(t,e,n){var i=Ls(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<r;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Ws:Ks,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function Go(t,e,n){var i=Ko(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Zs(t,e){return function(){return Go(this,t,e)}}function qs(t,e){return function(){return Go(this,t,e.apply(this,arguments))}}function Gs(t,e){return this.each((typeof e=="function"?qs:Zs)(t,e))}function*Us(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Uo=[null];function Be(t,e){this._groups=t,this._parents=e}function $t(){return new Be([[document.documentElement]],Uo)}function Js(){return this}Be.prototype=$t.prototype={constructor:Be,select:kl,selectAll:Ml,selectChild:Nl,selectChildren:Hl,filter:Dl,data:Yl,enter:Vl,exit:Kl,join:Wl,merge:Fl,selection:Js,order:Zl,sort:ql,call:Ul,nodes:Jl,node:Ql,size:jl,empty:xl,each:$l,attr:ls,style:cs,property:gs,classed:bs,text:ps,html:Cs,raise:Ps,lower:Os,append:As,insert:Hs,remove:Vs,clone:Bs,datum:Xs,on:Fs,dispatch:Gs,[Symbol.iterator]:Us};function Xe(t){return typeof t=="string"?new Be([[document.querySelector(t)]],[document.documentElement]):new Be([[t]],Uo)}function Qs(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Le(t,e){if(t=Qs(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const js={passive:!1},Zt={capture:!0,passive:!1};function Ln(t){t.stopImmediatePropagation()}function Et(t){t.preventDefault(),t.stopImmediatePropagation()}function Jo(t){var e=t.document.documentElement,n=Xe(t).on("dragstart.drag",Et,Zt);"onselectstart"in e?n.on("selectstart.drag",Et,Zt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Qo(t,e){var n=t.document.documentElement,i=Xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Et,Zt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rn=t=>()=>t;function ni(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ni.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function xs(t){return!t.ctrlKey&&!t.button}function $s(){return this.parentNode}function ea(t,e){return e??{x:t.x,y:t.y}}function ta(){return navigator.maxTouchPoints||"ontouchstart"in this}function na(){var t=xs,e=$s,n=ea,i=ta,o={},r=An("start","drag","end"),s=0,l,a,u,c,d=0;function f(k){k.on("mousedown.drag",h).filter(i).on("touchstart.drag",w).on("touchmove.drag",y,js).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(k,H){if(!(c||!t.call(this,k,H))){var z=v(this,e.call(this,k,H),k,H,"mouse");z&&(Xe(k.view).on("mousemove.drag",m,Zt).on("mouseup.drag",g,Zt),Jo(k.view),Ln(k),u=!1,l=k.clientX,a=k.clientY,z("start",k))}}function m(k){if(Et(k),!u){var H=k.clientX-l,z=k.clientY-a;u=H*H+z*z>d}o.mouse("drag",k)}function g(k){Xe(k.view).on("mousemove.drag mouseup.drag",null),Qo(k.view,u),Et(k),o.mouse("end",k)}function w(k,H){if(t.call(this,k,H)){var z=k.changedTouches,F=e.call(this,k,H),I=z.length,q,T;for(q=0;q<I;++q)(T=v(this,F,k,H,z[q].identifier,z[q]))&&(Ln(k),T("start",k,z[q]))}}function y(k){var H=k.changedTouches,z=H.length,F,I;for(F=0;F<z;++F)(I=o[H[F].identifier])&&(Et(k),I("drag",k,H[F]))}function E(k){var H=k.changedTouches,z=H.length,F,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),F=0;F<z;++F)(I=o[H[F].identifier])&&(Ln(k),I("end",k,H[F]))}function v(k,H,z,F,I,q){var T=r.copy(),V=Le(q||z,H),L,C,_;if((_=n.call(k,new ni("beforestart",{sourceEvent:z,target:f,identifier:I,active:s,x:V[0],y:V[1],dx:0,dy:0,dispatch:T}),F))!=null)return L=_.x-V[0]||0,C=_.y-V[1]||0,function M(b,P,R){var N=V,A;switch(b){case"start":o[I]=M,A=s++;break;case"end":delete o[I],--s;case"drag":V=Le(R||P,H),A=s;break}T.call(b,k,new ni(b,{sourceEvent:P,subject:_,target:f,identifier:I,active:A,x:V[0]+L,y:V[1]+C,dx:V[0]-N[0],dy:V[1]-N[1],dispatch:T}),F)}}return f.filter=function(k){return arguments.length?(t=typeof k=="function"?k:rn(!!k),f):t},f.container=function(k){return arguments.length?(e=typeof k=="function"?k:rn(k),f):e},f.subject=function(k){return arguments.length?(n=typeof k=="function"?k:rn(k),f):n},f.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:rn(!!k),f):i},f.on=function(){var k=r.on.apply(r,arguments);return k===r?f:k},f.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,f):Math.sqrt(d)},f}function hi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jo(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function en(){}var qt=.7,wn=1/qt,Mt="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ia=/^#([0-9a-f]{3,8})$/,oa=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),ra=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),la=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Gt}\\)$`),sa=new RegExp(`^rgba\\(${xe},${xe},${xe},${Gt}\\)$`),aa=new RegExp(`^hsl\\(${Gt},${xe},${xe}\\)$`),ua=new RegExp(`^hsla\\(${Gt},${xe},${xe},${Gt}\\)$`),Pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hi(en,Ut,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ni,formatHex:Ni,formatHex8:ca,formatHsl:fa,formatRgb:Oi,toString:Oi});function Ni(){return this.rgb().formatHex()}function ca(){return this.rgb().formatHex8()}function fa(){return xo(this).formatHsl()}function Oi(){return this.rgb().formatRgb()}function Ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ia.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ai(e):n===3?new Re(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ln(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ln(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oa.exec(t))?new Re(e[1],e[2],e[3],1):(e=ra.exec(t))?new Re(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=la.exec(t))?ln(e[1],e[2],e[3],e[4]):(e=sa.exec(t))?ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aa.exec(t))?Di(e[1],e[2]/100,e[3]/100,1):(e=ua.exec(t))?Di(e[1],e[2]/100,e[3]/100,e[4]):Pi.hasOwnProperty(t)?Ai(Pi[t]):t==="transparent"?new Re(NaN,NaN,NaN,0):null}function Ai(t){return new Re(t>>16&255,t>>8&255,t&255,1)}function ln(t,e,n,i){return i<=0&&(t=e=n=NaN),new Re(t,e,n,i)}function da(t){return t instanceof en||(t=Ut(t)),t?(t=t.rgb(),new Re(t.r,t.g,t.b,t.opacity)):new Re}function ii(t,e,n,i){return arguments.length===1?da(t):new Re(t,e,n,i??1)}function Re(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}hi(Re,ii,jo(en,{brighter(t){return t=t==null?wn:Math.pow(wn,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Re(_t(this.r),_t(this.g),_t(this.b),vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ti,formatHex:Ti,formatHex8:ha,formatRgb:Hi,toString:Hi}));function Ti(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function ha(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hi(){const t=vn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function vn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function Di(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ke(t,e,n,i)}function xo(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);if(t instanceof en||(t=Ut(t)),!t)return new Ke;if(t instanceof Ke)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new Ke(s,l,a,t.opacity)}function ga(t,e,n,i){return arguments.length===1?xo(t):new Ke(t,e,n,i??1)}function Ke(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}hi(Ke,ga,jo(en,{brighter(t){return t=t==null?wn:Math.pow(wn,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Re(Kn(t>=240?t-240:t+120,o,i),Kn(t,o,i),Kn(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ke(Vi(this.h),sn(this.s),sn(this.l),vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vn(this.opacity);return`${t===1?"hsl(":"hsla("}${Vi(this.h)}, ${sn(this.s)*100}%, ${sn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vi(t){return t=(t||0)%360,t<0?t+360:t}function sn(t){return Math.max(0,Math.min(1,t||0))}function Kn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $o=t=>()=>t;function ma(t,e){return function(n){return t+n*e}}function _a(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function ya(t){return(t=+t)==1?er:function(e,n){return n-e?_a(e,n,t):$o(isNaN(e)?n:e)}}function er(t,e){var n=e-t;return n?ma(t,n):$o(isNaN(t)?e:t)}const Ii=function t(e){var n=ya(e);function i(o,r){var s=n((o=ii(o)).r,(r=ii(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=er(o.opacity,r.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return i.gamma=t,i}(1);function at(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(oi.source,"g");function ba(t){return function(){return t}}function wa(t){return function(e){return t(e)+""}}function va(t,e){var n=oi.lastIndex=Wn.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=oi.exec(t))&&(o=Wn.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:at(i,o)})),n=Wn.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?wa(a[0].x):ba(e):(e=a.length,function(u){for(var c=0,d;c<e;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var Ri=180/Math.PI,ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*Ri,skewX:Math.atan(a)*Ri,scaleX:s,scaleY:l}}var an;function ka(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ri:tr(e.a,e.b,e.c,e.d,e.e,e.f)}function pa(t){return t==null||(an||(an=document.createElementNS("http://www.w3.org/2000/svg","g")),an.setAttribute("transform",t),!(t=an.transform.baseVal.consolidate()))?ri:(t=t.matrix,tr(t.a,t.b,t.c,t.d,t.e,t.f))}function nr(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,c,d,f,h,m){if(u!==d||c!==f){var g=h.push("translate(",null,e,null,n);m.push({i:g-4,x:at(u,d)},{i:g-2,x:at(c,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:at(u,c)})):c&&d.push(o(d)+"rotate("+c+i)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:at(u,c)}):c&&d.push(o(d)+"skewX("+c+i)}function a(u,c,d,f,h,m){if(u!==d||c!==f){var g=h.push(o(h)+"scale(",null,",",null,")");m.push({i:g-4,x:at(u,d)},{i:g-2,x:at(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=t(u),c=t(c),r(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var m=-1,g=f.length,w;++m<g;)d[(w=f[m]).i]=w.x(h);return d.join("")}}}var Sa=nr(ka,"px, ","px)","deg)"),Ea=nr(pa,", ",")",")"),Ma=1e-12;function Bi(t){return((t=Math.exp(t))+1/t)/2}function Ca(t){return((t=Math.exp(t))-1/t)/2}function za(t){return((t=Math.exp(2*t))-1)/(t+1)}const Pa=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],c=s[0],d=s[1],f=s[2],h=c-l,m=d-a,g=h*h+m*m,w,y;if(g<Ma)y=Math.log(f/u)/e,w=function(F){return[l+F*h,a+F*m,u*Math.exp(e*F*y)]};else{var E=Math.sqrt(g),v=(f*f-u*u+i*g)/(2*u*n*E),k=(f*f-u*u-i*g)/(2*f*n*E),H=Math.log(Math.sqrt(v*v+1)-v),z=Math.log(Math.sqrt(k*k+1)-k);y=(z-H)/e,w=function(F){var I=F*y,q=Bi(H),T=u/(n*E)*(q*za(e*I+H)-Ca(H));return[l+T*h,a+T*m,u*q/Bi(e*I+H)]}}return w.duration=y*1e3*e/Math.SQRT2,w}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var Ot=0,Lt=0,Rt=0,ir=1e3,kn,Kt,pn=0,yt=0,Hn=0,Jt=typeof performance=="object"&&performance.now?performance:Date,or=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gi(){return yt||(or(Na),yt=Jt.now()+Hn)}function Na(){yt=0}function Sn(){this._call=this._time=this._next=null}Sn.prototype=rr.prototype={constructor:Sn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gi():+n)+(e==null?0:+e),!this._next&&Kt!==this&&(Kt?Kt._next=this:kn=this,Kt=this),this._call=t,this._time=n,li()},stop:function(){this._call&&(this._call=null,this._time=1/0,li())}};function rr(t,e,n){var i=new Sn;return i.restart(t,e,n),i}function Oa(){gi(),++Ot;for(var t=kn,e;t;)(e=yt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ot}function Xi(){yt=(pn=Jt.now())+Hn,Ot=Lt=0;try{Oa()}finally{Ot=0,Ta(),yt=0}}function Aa(){var t=Jt.now(),e=t-pn;e>ir&&(Hn-=e,pn=t)}function Ta(){for(var t,e=kn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kn=n);Kt=t,li(i)}function li(t){if(!Ot){Lt&&(Lt=clearTimeout(Lt));var e=t-yt;e>24?(t<1/0&&(Lt=setTimeout(Xi,t-Jt.now()-Hn)),Rt&&(Rt=clearInterval(Rt))):(Rt||(pn=Jt.now(),Rt=setInterval(Aa,ir)),Ot=1,or(Xi))}}function Yi(t,e,n){var i=new Sn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Ha=An("start","end","cancel","interrupt"),Da=[],lr=0,Li=1,si=2,gn=3,Ki=4,ai=5,mn=6;function Dn(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Va(t,n,{name:e,index:i,group:o,on:Ha,tween:Da,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:lr})}function mi(t,e){var n=Ue(t,e);if(n.state>lr)throw new Error("too late; already scheduled");return n}function tt(t,e){var n=Ue(t,e);if(n.state>gn)throw new Error("too late; already running");return n}function Ue(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Va(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=rr(r,0,n.time);function r(u){n.state=Li,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==Li)return a();for(c in i)if(h=i[c],h.name===n.name){if(h.state===gn)return Yi(s);h.state===Ki?(h.state=mn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=mn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Yi(function(){n.state===gn&&(n.state=Ki,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=si,n.on.call("start",t,t.__data__,n.index,n.group),n.state===si){for(n.state=gn,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=ai,1),d=-1,f=o.length;++d<f;)o[d].call(t,c);n.state===ai&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=mn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function _n(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>si&&i.state<ai,i.state=mn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function Ia(t){return this.each(function(){_n(this,t)})}function Ra(t,e){var n,i;return function(){var o=tt(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ba(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=tt(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Xa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ue(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Ra:Ba)(n,t,e))}function _i(t,e,n){var i=t._id;return t.each(function(){var o=tt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Ue(o,i).value[e]}}function sr(t,e){var n;return(typeof e=="number"?at:e instanceof Ut?Ii:(n=Ut(e))?(e=n,Ii):va)(t,e)}function Ya(t){return function(){this.removeAttribute(t)}}function La(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ka(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Wa(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Fa(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Za(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function qa(t,e){var n=Tn(t),i=n==="transform"?Ea:sr;return this.attrTween(t,typeof e=="function"?(n.local?Za:Fa)(n,i,_i(this,"attr."+t,e)):e==null?(n.local?La:Ya)(n):(n.local?Wa:Ka)(n,i,e))}function Ga(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ua(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ja(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ua(t,r)),n}return o._value=e,o}function Qa(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ga(t,r)),n}return o._value=e,o}function ja(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Tn(t);return this.tween(n,(i.local?Ja:Qa)(i,e))}function xa(t,e){return function(){mi(this,t).delay=+e.apply(this,arguments)}}function $a(t,e){return e=+e,function(){mi(this,t).delay=e}}function eu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xa:$a)(e,t)):Ue(this.node(),e).delay}function tu(t,e){return function(){tt(this,t).duration=+e.apply(this,arguments)}}function nu(t,e){return e=+e,function(){tt(this,t).duration=e}}function iu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tu:nu)(e,t)):Ue(this.node(),e).duration}function ou(t,e){if(typeof e!="function")throw new Error;return function(){tt(this,t).ease=e}}function ru(t){var e=this._id;return arguments.length?this.each(ou(e,t)):Ue(this.node(),e).ease}function lu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;tt(this,t).ease=n}}function su(t){if(typeof t!="function")throw new Error;return this.each(lu(this._id,t))}function au(t){typeof t!="function"&&(t=Xo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new lt(i,this._parents,this._name,this._id)}function uu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,h=0;h<c;++h)(f=a[h]||u[h])&&(d[h]=f);for(;l<i;++l)s[l]=e[l];return new lt(s,this._parents,this._name,this._id)}function cu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function fu(t,e,n){var i,o,r=cu(e)?mi:tt;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function du(t,e){var n=this._id;return arguments.length<2?Ue(this.node(),n).on.on(t):this.each(fu(n,t,e))}function hu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gu(){return this.on("end.remove",hu(this._id))}function mu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fi(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=t.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,Dn(u[f],e,n,f,u,Ue(c,n)));return new lt(r,this._parents,e,n)}function _u(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bo(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=t.call(c,c.__data__,d,a),h,m=Ue(c,n),g=0,w=f.length;g<w;++g)(h=f[g])&&Dn(h,e,n,g,f,m);r.push(f),s.push(c)}return new lt(r,s,e,n)}var yu=$t.prototype.constructor;function bu(){return new yu(this._groups,this._parents)}function wu(t,e){var n,i,o;return function(){var r=Nt(this,t),s=(this.style.removeProperty(t),Nt(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function ar(t){return function(){this.style.removeProperty(t)}}function vu(t,e,n){var i,o=n+"",r;return function(){var s=Nt(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function ku(t,e,n){var i,o,r;return function(){var s=Nt(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),Nt(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function pu(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=tt(this,t),u=a.on,c=a.value[r]==null?l||(l=ar(e)):void 0;(u!==n||o!==c)&&(i=(n=u).copy()).on(s,o=c),a.on=i}}function Su(t,e,n){var i=(t+="")=="transform"?Sa:sr;return e==null?this.styleTween(t,wu(t,i)).on("end.style."+t,ar(t)):typeof e=="function"?this.styleTween(t,ku(t,i,_i(this,"style."+t,e))).each(pu(this._id,t)):this.styleTween(t,vu(t,i,e),n).on("end.style."+t,null)}function Eu(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Mu(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Eu(t,s,n)),i}return r._value=e,r}function Cu(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Mu(t,e,n??""))}function zu(t){return function(){this.textContent=t}}function Pu(t){return function(){var e=t(this);this.textContent=e??""}}function Nu(t){return this.tween("text",typeof t=="function"?Pu(_i(this,"text",t)):zu(t==null?"":t+""))}function Ou(t){return function(e){this.textContent=t.call(this,e)}}function Au(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Ou(o)),e}return i._value=t,i}function Tu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Au(t))}function Hu(){for(var t=this._name,e=this._id,n=ur(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Ue(a,e);Dn(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new lt(i,this._parents,t,n)}function Du(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=tt(this,i),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Vu=0;function lt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ur(){return++Vu}var it=$t.prototype;lt.prototype={constructor:lt,select:mu,selectAll:_u,selectChild:it.selectChild,selectChildren:it.selectChildren,filter:au,merge:uu,selection:bu,transition:Hu,call:it.call,nodes:it.nodes,node:it.node,size:it.size,empty:it.empty,each:it.each,on:du,attr:qa,attrTween:ja,style:Su,styleTween:Cu,text:Nu,textTween:Tu,remove:gu,tween:Xa,delay:eu,duration:iu,ease:ru,easeVarying:su,end:Du,[Symbol.iterator]:it[Symbol.iterator]};function Iu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ru={time:null,delay:0,duration:250,ease:Iu};function Bu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Xu(t){var e,n;t instanceof lt?(e=t._id,t=t._name):(e=ur(),(n=Ru).time=gi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Dn(a,t,e,u,s,n||Bu(a,e));return new lt(i,this._parents,t,e)}$t.prototype.interrupt=Ia;$t.prototype.transition=Xu;const un=t=>()=>t;function Yu(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ot(t,e,n){this.k=t,this.x=e,this.y=n}ot.prototype={constructor:ot,scale:function(t){return t===1?this:new ot(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ot(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vn=new ot(1,0,0);cr.prototype=ot.prototype;function cr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vn;return t.__zoom}function Fn(t){t.stopImmediatePropagation()}function Bt(t){t.preventDefault(),t.stopImmediatePropagation()}function Lu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ku(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Wi(){return this.__zoom||Vn}function Wu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Fu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zu(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function fr(){var t=Lu,e=Ku,n=Zu,i=Wu,o=Fu,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Pa,u=An("start","zoom","end"),c,d,f,h=500,m=150,g=0,w=10;function y(_){_.property("__zoom",Wi).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",T).filter(o).on("touchstart.zoom",V).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(_,M,b,P){var R=_.selection?_.selection():_;R.property("__zoom",Wi),_!==R?H(_,M,b,P):R.interrupt().each(function(){z(this,arguments).event(P).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},y.scaleBy=function(_,M,b,P){y.scaleTo(_,function(){var R=this.__zoom.k,N=typeof M=="function"?M.apply(this,arguments):M;return R*N},b,P)},y.scaleTo=function(_,M,b,P){y.transform(_,function(){var R=e.apply(this,arguments),N=this.__zoom,A=b==null?k(R):typeof b=="function"?b.apply(this,arguments):b,G=N.invert(A),j=typeof M=="function"?M.apply(this,arguments):M;return n(v(E(N,j),A,G),R,s)},b,P)},y.translateBy=function(_,M,b,P){y.transform(_,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof b=="function"?b.apply(this,arguments):b),e.apply(this,arguments),s)},null,P)},y.translateTo=function(_,M,b,P,R){y.transform(_,function(){var N=e.apply(this,arguments),A=this.__zoom,G=P==null?k(N):typeof P=="function"?P.apply(this,arguments):P;return n(Vn.translate(G[0],G[1]).scale(A.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof b=="function"?-b.apply(this,arguments):-b),N,s)},P,R)};function E(_,M){return M=Math.max(r[0],Math.min(r[1],M)),M===_.k?_:new ot(M,_.x,_.y)}function v(_,M,b){var P=M[0]-b[0]*_.k,R=M[1]-b[1]*_.k;return P===_.x&&R===_.y?_:new ot(_.k,P,R)}function k(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function H(_,M,b,P){_.on("start.zoom",function(){z(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(P).end()}).tween("zoom",function(){var R=this,N=arguments,A=z(R,N).event(P),G=e.apply(R,N),j=b==null?k(G):typeof b=="function"?b.apply(R,N):b,le=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Y=R.__zoom,$=typeof M=="function"?M.apply(R,N):M,X=a(Y.invert(j).concat(le/Y.k),$.invert(j).concat(le/$.k));return function(ie){if(ie===1)ie=$;else{var ge=X(ie),K=le/ge[2];ie=new ot(K,j[0]-ge[0]*K,j[1]-ge[1]*K)}A.zoom(null,ie)}})}function z(_,M,b){return!b&&_.__zooming||new F(_,M)}function F(_,M){this.that=_,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,M),this.taps=0}F.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,M){return this.mouse&&_!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var M=Xe(this.that).datum();u.call(_,this.that,new Yu(_,{sourceEvent:this.sourceEvent,target:y,type:_,transform:this.that.__zoom,dispatch:u}),M)}};function I(_,...M){if(!t.apply(this,arguments))return;var b=z(this,M).event(_),P=this.__zoom,R=Math.max(r[0],Math.min(r[1],P.k*Math.pow(2,i.apply(this,arguments)))),N=Le(_);if(b.wheel)(b.mouse[0][0]!==N[0]||b.mouse[0][1]!==N[1])&&(b.mouse[1]=P.invert(b.mouse[0]=N)),clearTimeout(b.wheel);else{if(P.k===R)return;b.mouse=[N,P.invert(N)],_n(this),b.start()}Bt(_),b.wheel=setTimeout(A,m),b.zoom("mouse",n(v(E(P,R),b.mouse[0],b.mouse[1]),b.extent,s));function A(){b.wheel=null,b.end()}}function q(_,...M){if(f||!t.apply(this,arguments))return;var b=_.currentTarget,P=z(this,M,!0).event(_),R=Xe(_.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",le,!0),N=Le(_,b),A=_.clientX,G=_.clientY;Jo(_.view),Fn(_),P.mouse=[N,this.__zoom.invert(N)],_n(this),P.start();function j(Y){if(Bt(Y),!P.moved){var $=Y.clientX-A,X=Y.clientY-G;P.moved=$*$+X*X>g}P.event(Y).zoom("mouse",n(v(P.that.__zoom,P.mouse[0]=Le(Y,b),P.mouse[1]),P.extent,s))}function le(Y){R.on("mousemove.zoom mouseup.zoom",null),Qo(Y.view,P.moved),Bt(Y),P.event(Y).end()}}function T(_,...M){if(t.apply(this,arguments)){var b=this.__zoom,P=Le(_.changedTouches?_.changedTouches[0]:_,this),R=b.invert(P),N=b.k*(_.shiftKey?.5:2),A=n(v(E(b,N),P,R),e.apply(this,M),s);Bt(_),l>0?Xe(this).transition().duration(l).call(H,A,P,_):Xe(this).call(y.transform,A,P,_)}}function V(_,...M){if(t.apply(this,arguments)){var b=_.touches,P=b.length,R=z(this,M,_.changedTouches.length===P).event(_),N,A,G,j;for(Fn(_),A=0;A<P;++A)G=b[A],j=Le(G,this),j=[j,this.__zoom.invert(j),G.identifier],R.touch0?!R.touch1&&R.touch0[2]!==j[2]&&(R.touch1=j,R.taps=0):(R.touch0=j,N=!0,R.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(R.taps<2&&(d=j[0],c=setTimeout(function(){c=null},h)),_n(this),R.start())}}function L(_,...M){if(this.__zooming){var b=z(this,M).event(_),P=_.changedTouches,R=P.length,N,A,G,j;for(Bt(_),N=0;N<R;++N)A=P[N],G=Le(A,this),b.touch0&&b.touch0[2]===A.identifier?b.touch0[0]=G:b.touch1&&b.touch1[2]===A.identifier&&(b.touch1[0]=G);if(A=b.that.__zoom,b.touch1){var le=b.touch0[0],Y=b.touch0[1],$=b.touch1[0],X=b.touch1[1],ie=(ie=$[0]-le[0])*ie+(ie=$[1]-le[1])*ie,ge=(ge=X[0]-Y[0])*ge+(ge=X[1]-Y[1])*ge;A=E(A,Math.sqrt(ie/ge)),G=[(le[0]+$[0])/2,(le[1]+$[1])/2],j=[(Y[0]+X[0])/2,(Y[1]+X[1])/2]}else if(b.touch0)G=b.touch0[0],j=b.touch0[1];else return;b.zoom("touch",n(v(A,G,j),b.extent,s))}}function C(_,...M){if(this.__zooming){var b=z(this,M).event(_),P=_.changedTouches,R=P.length,N,A;for(Fn(_),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),N=0;N<R;++N)A=P[N],b.touch0&&b.touch0[2]===A.identifier?delete b.touch0:b.touch1&&b.touch1[2]===A.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(A=Le(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<w)){var G=Xe(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return y.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:un(+_),y):i},y.filter=function(_){return arguments.length?(t=typeof _=="function"?_:un(!!_),y):t},y.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:un(!!_),y):o},y.extent=function(_){return arguments.length?(e=typeof _=="function"?_:un([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),y):e},y.scaleExtent=function(_){return arguments.length?(r[0]=+_[0],r[1]=+_[1],y):[r[0],r[1]]},y.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(_){return arguments.length?(n=_,y):n},y.duration=function(_){return arguments.length?(l=+_,y):l},y.interpolate=function(_){return arguments.length?(a=_,y):a},y.on=function(){var _=u.on.apply(u,arguments);return _===u?y:_},y.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,y):Math.sqrt(g)},y.tapDistance=function(_){return arguments.length?(w=+_,y):w},y}const tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ee=Symbol.for("internals"),Fi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var bt;(function(t){t.Strict="strict",t.Loose="loose"})(bt||(bt={}));var $e;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})($e||($e={}));var En;(function(t){t.Partial="partial",t.Full="full"})(En||(En={}));var Ct;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ct||(Ct={}));var Mn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Mn||(Mn={}));var ue;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ue||(ue={}));const qu=t=>"id"in t&&"source"in t&&"target"in t,Vt=(t,e=[0,0])=>{var r,s,l;if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(((r=t.computed)==null?void 0:r.width)??t.width??0)*e[0],i=(((s=t.computed)==null?void 0:s.height)??t.height??0)*e[1],o={x:t.position.x-n,y:t.position.y-i};return{...o,positionAbsolute:(l=t.computed)!=null&&l.positionAbsolute?{x:t.computed.positionAbsolute.x-n,y:t.computed.positionAbsolute.y-i}:o}},nn=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{var l,a;const{x:r,y:s}=Vt(o,o.origin||e).positionAbsolute;return yi(i,Cn({x:r,y:s,width:((l=o.computed)==null?void 0:l.width)??o.width??0,height:((a=o.computed)==null?void 0:a.height)??o.height??0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bi(n)},dr=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1,l=[0,0])=>{const a={...vi(e,[n,i,o]),width:e.width/o,height:e.height/o};return t.reduce((c,d)=>{const{computed:f,selectable:h=!0,hidden:m=!1}=d,g=(f==null?void 0:f.width)??d.width??null,w=(f==null?void 0:f.height)??d.height??null;if(s&&!h||m)return c;const y=mr(a,xu(d,l)),E=g===null||w===null,v=r&&y>0,k=(g??0)*(w??0);return(E||v||y>=k||d.dragging)&&c.push(d),c},[])},hr=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Gu({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r,nodeOrigin:s=[0,0]},l){const a=t.filter(u=>{var d,f,h;const c=((d=u.computed)==null?void 0:d.width)&&((f=u.computed)==null?void 0:f.height)&&((l==null?void 0:l.includeHiddenNodes)||!u.hidden);return(h=l==null?void 0:l.nodes)!=null&&h.length?c&&(l==null?void 0:l.nodes.some(m=>m.id===u.id)):c});if(a.length>0){const u=nn(a,s),c=_r(u,e,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??r,(l==null?void 0:l.padding)??.1);return i.setViewport(c,{duration:l==null?void 0:l.duration}),!0}return!1}function Uu(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function Ju(t,e,n,i,o=[0,0],r){var d,f,h,m,g,w;const s=Uu(t,t.extent||i);let l=s,a=null,u={x:0,y:0};if(t.parentNode&&(a=n.find(y=>y.id===t.parentNode)||null,u=a?Vt(a,a.origin||o).positionAbsolute:u),t.extent==="parent"&&!t.expandParent){const y=(d=t.computed)==null?void 0:d.width,E=(f=t.computed)==null?void 0:f.height;if(t.parentNode&&y&&E){const v=t.origin||o;l=a&&zn((h=a.computed)==null?void 0:h.width)&&zn((m=a.computed)==null?void 0:m.height)?[[u.x+y*v[0],u.y+E*v[1]],[u.x+(((g=a.computed)==null?void 0:g.width)??0)-y+y*v[0],u.y+(((w=a.computed)==null?void 0:w.height)??0)-E+E*v[1]]]:l}else r==null||r("005",tn.error005()),l=s}else t.extent&&t.parentNode&&t.extent!=="parent"&&(l=[[t.extent[0][0]+u.x,t.extent[0][1]+u.y],[t.extent[1][0]+u.x,t.extent[1][1]+u.y]]);const c=l&&l!=="parent"?ju(e,l):e;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Qu({nodesToRemove:t,edgesToRemove:e,nodes:n,edges:i}){const o=t.map(d=>d.id),r=e.map(d=>d.id),s=n.reduce((d,f)=>{const h=!o.includes(f.id)&&f.parentNode&&d.find(g=>g.id===f.parentNode);return(typeof f.deletable=="boolean"?f.deletable:!0)&&(o.includes(f.id)||h)&&d.push(f),d},[]),l=i.filter(d=>typeof d.deletable=="boolean"?d.deletable:!0),a=l.filter(d=>r.includes(d.id));return{matchingEdges:hr(s,l).reduce((d,f)=>(d.find(h=>h.id===f.id)||d.push(f),d),a),matchingNodes:s}}const At=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),ju=(t={x:0,y:0},e)=>({x:At(t.x,e[0][0],e[1][0]),y:At(t.y,e[0][1],e[1][1])}),Zi=(t,e,n)=>t<e?At(Math.abs(t-e),1,50)/50:t>n?-At(Math.abs(t-n),1,50)/50:0,gr=(t,e)=>{const n=Zi(t.x,35,e.width-35)*20,i=Zi(t.y,35,e.height-35)*20;return[n,i]},yi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Cn=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),bi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),xu=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=Vt(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((o=t.computed)==null?void 0:o.height)??t.height??0}},qi=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=Vt(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((o=t.computed)==null?void 0:o.height)??t.height??0)}},$u=(t,e)=>bi(yi(Cn(t),Cn(e))),mr=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},zn=t=>!isNaN(t)&&isFinite(t),ec=(t,e)=>{},tc=({x:t,y:e,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:e}:{x:t-n*o[0],y:e-i*o[1]};function wi(t,e=[1,1]){return{x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}}const vi=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?wi(l,s):l},nc=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),_r=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=At(a,i,o),c=t.x+t.width/2,d=t.y+t.height/2,f=e/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},Pn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Zn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=rt(t),s=vi({x:o,y:r},i),{x:l,y:a}=n?wi(s,e):s;return{xSnapped:l,ySnapped:a,...s}}const yr=t=>({width:t.offsetWidth,height:t.offsetHeight}),ic=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},br=t=>"clientX"in t,rt=(t,e)=>{var r,s;const n=br(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Gi=(t,e,n,i=[0,0])=>{const o=e.querySelectorAll(t);if(!o||!o.length)return null;const r=Array.from(o),s=e.getBoundingClientRect(),l={x:s.width*i[0],y:s.height*i[1]};return r.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...yr(a)}})};function oc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,c=Math.abs(a-t),d=Math.abs(u-e);return[a,u,c,d]}function cn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Ui({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case ue.Left:return[e-cn(e-i,r),n];case ue.Right:return[e+cn(i-e,r),n];case ue.Top:return[e,n-cn(n-o,r)];case ue.Bottom:return[e,n+cn(o-n,r)]}}function wr({sourceX:t,sourceY:e,sourcePosition:n=ue.Bottom,targetX:i,targetY:o,targetPosition:r=ue.Top,curvature:s=.25}){const[l,a]=Ui({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,c]=Ui({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[d,f,h,m]=oc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${t},${e} C${l},${a} ${u},${c} ${i},${o}`,d,f,h,m]}function vr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}const rc=[{level:0,isMaxLevel:!0,edges:[]}];function lc(t,e,n=!1){let i=-1;const o=t.reduce((s,l)=>{var c,d;const a=zn(l.zIndex);let u=a?l.zIndex:0;if(n){const f=e.get(l.target),h=e.get(l.source),m=l.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),g=Math.max(((c=h==null?void 0:h[Ee])==null?void 0:c.z)||0,((d=f==null?void 0:f[Ee])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(m?g:0)}return s[u]?s[u].push(l):s[u]=[l],i=u>i?u:i,s},{}),r=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===i}});return r.length===0?rc:r}function sc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=yi(qi(t),qi(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return mr(s,bi(r))>0}const ac=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xyflow__edge-${t}${e||""}-${n}${i||""}`,uc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),cc=(t,e)=>{if(!t.source||!t.target)return e;let n;return qu(t)?n={...t}:n={...t,id:ac(t)},uc(n,e)?e:e.concat(n)};function kr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=vr({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const Ji={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}},fc=({source:t,sourcePosition:e=ue.Bottom,target:n})=>e===ue.Left||e===ue.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Qi=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function dc({source:t,sourcePosition:e=ue.Bottom,target:n,targetPosition:i=ue.Top,center:o,offset:r}){const s=Ji[e],l=Ji[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},c=fc({source:a,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,g;const w={x:0,y:0},y={x:0,y:0},[E,v,k,H]=vr({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){m=o.x||E,g=o.y||v;const F=[{x:m,y:a.y},{x:m,y:u.y}],I=[{x:a.x,y:g},{x:u.x,y:g}];s[d]===f?h=d==="x"?F:I:h=d==="x"?I:F}else{const F=[{x:a.x,y:u.y}],I=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===f?I:F:h=s.y===f?F:I,e===i){const C=Math.abs(t[d]-n[d]);if(C<=r){const _=Math.min(r-1,r-C);s[d]===f?w[d]=(a[d]>t[d]?-1:1)*_:y[d]=(u[d]>n[d]?-1:1)*_}}if(e!==i){const C=d==="x"?"y":"x",_=s[d]===l[C],M=a[C]>u[C],b=a[C]<u[C];(s[d]===1&&(!_&&M||_&&b)||s[d]!==1&&(!_&&b||_&&M))&&(h=d==="x"?F:I)}const q={x:a.x+w.x,y:a.y+w.y},T={x:u.x+y.x,y:u.y+y.y},V=Math.max(Math.abs(q.x-h[0].x),Math.abs(T.x-h[0].x)),L=Math.max(Math.abs(q.y-h[0].y),Math.abs(T.y-h[0].y));V>=L?(m=(q.x+T.x)/2,g=h[0].y):(m=h[0].x,g=(q.y+T.y)/2)}return[[t,{x:a.x+w.x,y:a.y+w.y},...h,{x:u.x+y.x,y:u.y+y.y},n],m,g,k,H]}function hc(t,e,n,i){const o=Math.min(Qi(t,e)/2,Qi(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*c}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function Nn({sourceX:t,sourceY:e,sourcePosition:n=ue.Bottom,targetX:i,targetY:o,targetPosition:r=ue.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,h,m]=dc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[c.reduce((w,y,E)=>{let v="";return E>0&&E<c.length-1?v=hc(c[E-1],y,c[E+1],s):v=`${E===0?"M":"L"}${y.x} ${y.y}`,w+=v,w},""),d,f,h,m]}function gc(t){var w;const[e,n,i]=ji(t.sourceNode),[o,r,s]=ji(t.targetNode);if(!i||!s)return null;const l=t.connectionMode===bt.Strict?r.target:(r.target??[]).concat(r.source??[]),a=$i(n.source,t.sourceHandle),u=$i(l,t.targetHandle),c=(a==null?void 0:a.position)||ue.Bottom,d=(u==null?void 0:u.position)||ue.Top;if(!a||!u)return(w=t.onError)==null||w.call(t,"008",tn.error008(a?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const{x:f,y:h}=xi(c,e,a),{x:m,y:g}=xi(d,o,u);return{sourceX:f,sourceY:h,targetX:m,targetY:g,sourcePosition:c,targetPosition:d}}function mc(t){return t?t.reduce((e,n)=>{var i,o;return n.width=n.width||1,n.height=n.height||1,n.type==="source"&&((i=e.source)==null||i.push(n)),n.type==="target"&&((o=e.target)==null||o.push(n)),e},{source:[],target:[]}):null}function ji(t){var r,s,l,a,u,c,d,f,h,m,g;const e=((r=t==null?void 0:t[Ee])==null?void 0:r.handleBounds)||mc(t==null?void 0:t.handles)||null,n=((s=t==null?void 0:t.computed)==null?void 0:s.width)||(t==null?void 0:t.width),i=((l=t==null?void 0:t.computed)==null?void 0:l.height)||(t==null?void 0:t.height),o=e&&n&&i&&typeof((u=(a=t==null?void 0:t.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.x)<"u"&&typeof((d=(c=t==null?void 0:t.computed)==null?void 0:c.positionAbsolute)==null?void 0:d.y)<"u";return[{x:((h=(f=t==null?void 0:t.computed)==null?void 0:f.positionAbsolute)==null?void 0:h.x)||0,y:((g=(m=t==null?void 0:t.computed)==null?void 0:m.positionAbsolute)==null?void 0:g.y)||0,width:n||0,height:i||0},e,!!o]}function xi(t,e,n=null){const i=((n==null?void 0:n.x)||0)+e.x,o=((n==null?void 0:n.y)||0)+e.y,r=(n==null?void 0:n.width)||e.width,s=(n==null?void 0:n.height)||e.height;switch(t){case ue.Top:return{x:i+r/2,y:o};case ue.Right:return{x:i+r,y:o+s/2};case ue.Bottom:return{x:i+r/2,y:o+s};case ue.Left:return{x:i,y:o+s/2}}}function $i(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}function ui(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function _c(t,{id:e,defaultColor:n}){const i=[];return t.reduce((o,r)=>([r.markerStart,r.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=ui(s,e);i.includes(l)||(o.push({id:l,color:s.color||n,...s}),i.push(l))}}),o),[]).sort((o,r)=>o.id.localeCompare(r.id))}function yc(t,e,n=[0,0],i){return t.map(o=>{var r;if(o.parentNode&&!e.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const s=o.parentNode?e.get(o.parentNode):null,{x:l,y:a,z:u}=Sr(o,t,e,{...o.position,z:((r=o[Ee])==null?void 0:r.z)??0},(s==null?void 0:s.origin)||n);o.computed.positionAbsolute={x:l,y:a},o[Ee].z=u,i!=null&&i[o.id]&&(o[Ee].isParent=!0)}return o})}function pr(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i={},o=n!=null&&n.elevateNodesOnSelect?1e3:0,r=t.map(l=>{var f,h,m,g;const a=e.get(l.id),u={...n.defaults,...l,computed:{positionAbsolute:l.position,width:((f=l.computed)==null?void 0:f.width)||((h=a==null?void 0:a.computed)==null?void 0:h.width),height:((m=l.computed)==null?void 0:m.height)||((g=a==null?void 0:a.computed)==null?void 0:g.height)}},c=(zn(l.zIndex)?l.zIndex:0)+(l.selected?o:0),d=(l==null?void 0:l[Ee])||(a==null?void 0:a[Ee]);return u.parentNode&&(i[u.parentNode]=!0),Object.defineProperty(u,Ee,{enumerable:!1,value:{handleBounds:d==null?void 0:d.handleBounds,z:c}}),e.set(u.id,u),u});return yc(r,e,n.nodeOrigin,i)}function Sr(t,e,n,i,o){var l,a;if(!t.parentNode)return i;const r=n.get(t.parentNode),s=Vt(r,(r==null?void 0:r.origin)||o);return Sr(r,e,n,{x:(i.x??0)+s.x,y:(i.y??0)+s.y,z:(((l=r[Ee])==null?void 0:l.z)??0)>(i.z??0)?((a=r[Ee])==null?void 0:a.z)??0:i.z??0},r.origin||o)}function bc(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");if(!s)return null;const l=window.getComputedStyle(s),{m22:a}=new window.DOMMatrixReadOnly(l.transform);return e.map(c=>{var f,h;const d=t.get(c.id);if(d){const m=yr(d.nodeElement);if(!!(m.width&&m.height&&(((f=c.computed)==null?void 0:f.width)!==m.width||((h=c.computed)==null?void 0:h.height)!==m.height||d.forceUpdate))){r==null||r(c.id,m);const w={...c,computed:{...c.computed,...m},[Ee]:{...c[Ee],handleBounds:{source:Gi(".source",d.nodeElement,a,c.origin||o),target:Gi(".target",d.nodeElement,a,c.origin||o)}}};return n.set(c.id,w),w}}return c})}function wc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return!1;const s=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function qn(t){return(e,n,i)=>t==null?void 0:t(e,i)}function Er(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:Er(n,e):!1}function eo(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function vc(t,e,n,i){return t.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!Er(o,t))&&(o.draggable||e&&typeof o.draggable>"u")).map(o=>{var r,s,l,a,u,c,d;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((s=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((a=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((u=o.computed)==null?void 0:u.positionAbsolute)||{x:0,y:0},width:((c=o.computed)==null?void 0:c.width)||0,height:((d=o.computed)==null?void 0:d.height)||0}}})}function Gn({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[t?i.find(o=>o.id===t):i[0],i]}function kc({domNode:t,onNodeMouseDown:e,getStoreItems:n,onDragStart:i,onDrag:o,onDragStop:r}){let s={x:null,y:null},l=0,a=[],u=!1,c={x:0,y:0},d=null,f=null,h=!1;const m=Xe(t);function g({noDragClassName:y,handleSelector:E,domNode:v,isSelectable:k,nodeId:H}){function z({x:T,y:V}){const{nodes:L,nodeLookup:C,nodeExtent:_,snapGrid:M,snapToGrid:b,nodeOrigin:P,onNodeDrag:R,onSelectionDrag:N,onError:A,updateNodePositions:G}=n();s={x:T,y:V};let j=!1,le={x:0,y:0,x2:0,y2:0};if(a.length>1&&_){const $=nn(a,P);le=Cn($)}if(a=a.map($=>{var K,we;let X={x:T-$.distance.x,y:V-$.distance.y};b&&(X=wi(X,M));const ie=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];a.length>1&&_&&!$.extent&&(ie[0][0]=$.computed.positionAbsolute.x-le.x+_[0][0],ie[1][0]=$.computed.positionAbsolute.x+(((K=$.computed)==null?void 0:K.width)??0)-le.x2+_[1][0],ie[0][1]=$.computed.positionAbsolute.y-le.y+_[0][1],ie[1][1]=$.computed.positionAbsolute.y+(((we=$.computed)==null?void 0:we.height)??0)-le.y2+_[1][1]);const ge=Ju($,X,L,ie,P,A);return j=j||$.position.x!==ge.position.x||$.position.y!==ge.position.y,$.position=ge.position,$.computed.positionAbsolute=ge.positionAbsolute,$}),!j)return;G(a,!0,!0);const Y=H?R:qn(N);if(d&&(o||Y)){const[$,X]=Gn({nodeId:H,dragItems:a,nodeLookup:C});o==null||o(d,a,$,X),Y==null||Y(d,$,X)}}function F(){if(!f)return;const[T,V]=gr(c,f);if(T!==0||V!==0){const{transform:L,panBy:C}=n();s.x=(s.x??0)-T/L[2],s.y=(s.y??0)-V/L[2],C({x:T,y:V})&&z(s)}l=requestAnimationFrame(F)}function I(T){var Y;const{nodes:V,nodeLookup:L,multiSelectionActive:C,nodesDraggable:_,transform:M,snapGrid:b,snapToGrid:P,selectNodesOnDrag:R,onNodeDragStart:N,onSelectionDragStart:A,unselectNodesAndEdges:G}=n();h=!0,(!R||!k)&&!C&&H&&((Y=L.get(H))!=null&&Y.selected||G()),k&&R&&H&&(e==null||e(H));const j=Zn(T.sourceEvent,{transform:M,snapGrid:b,snapToGrid:P});s=j,a=vc(V,_,j,H);const le=H?N:qn(A);if(a&&(i||le)){const[$,X]=Gn({nodeId:H,dragItems:a,nodeLookup:L});i==null||i(T.sourceEvent,a,$,X),le==null||le(T.sourceEvent,$,X)}}const q=na().on("start",T=>{const{domNode:V,nodeDragThreshold:L,transform:C,snapGrid:_,snapToGrid:M}=n();L===0&&I(T),s=Zn(T.sourceEvent,{transform:C,snapGrid:_,snapToGrid:M}),f=(V==null?void 0:V.getBoundingClientRect())||null,c=rt(T.sourceEvent,f)}).on("drag",T=>{const{autoPanOnNodeDrag:V,transform:L,snapGrid:C,snapToGrid:_,nodeDragThreshold:M}=n(),b=Zn(T.sourceEvent,{transform:L,snapGrid:C,snapToGrid:_});if(!u&&V&&h&&(u=!0,F()),!h){const P=b.xSnapped-(s.x??0),R=b.ySnapped-(s.y??0);Math.sqrt(P*P+R*R)>M&&I(T)}(s.x!==b.xSnapped||s.y!==b.ySnapped)&&a&&h&&(d=T.sourceEvent,c=rt(T.sourceEvent,f),z(b))}).on("end",T=>{if(h&&(u=!1,h=!1,cancelAnimationFrame(l),a)){const{nodeLookup:V,updateNodePositions:L,onNodeDragStop:C,onSelectionDragStop:_}=n(),M=H?C:qn(_);if(L(a,!1,!1),r||M){const[b,P]=Gn({nodeId:H,dragItems:a,nodeLookup:V});r==null||r(T.sourceEvent,a,b,P),M==null||M(T.sourceEvent,b,P)}}}).filter(T=>{const V=T.target;return!T.button&&(!y||!eo(V,`.${y}`,v))&&(!E||eo(V,E,v))});m.call(q)}function w(){m.on(".drag",null)}return{update:g,destroy:w}}function to(t,e,n,i){return(e[n]||[]).reduce((o,r)=>{var s,l,a,u;return`${t.id}-${r.id}-${n}`!==i&&o.push({id:r.id||null,type:n,nodeId:t.id,x:(((l=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:l.x)??0)+r.x+r.width/2,y:(((u=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.y)??0)+r.y+r.height/2}),o},[])}function pc(t,e,n){let i=[],o=1/0;return n.forEach(r=>{const s=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));s<=e&&(s<o?i=[r]:s===o&&i.push(r),o=s)}),i.length?i.length===1?i[0]:i.find(r=>r.type==="target")||i[0]:null}function Sc({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((o,r)=>{if(r[Ee]){const{handleBounds:s}=r[Ee];let l=[],a=[];s&&(l=to(r,s,"source",`${e}-${n}-${i}`),a=to(r,s,"target",`${e}-${n}-${i}`)),o.push(...l,...a)}return o},[])}function Mr(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Un(t,e){t==null||t.classList.remove("valid","connecting",`${e}-flow__handle-valid`,`${e}-flow__handle-connecting`)}function Ec(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const Mc={source:null,target:null,sourceHandle:null,targetHandle:null},Cr=()=>!0;let fn=null;function Cc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodes:a,lib:u,autoPanOnConnect:c,panBy:d,cancelConnection:f,onConnectStart:h,onConnect:m,onConnectEnd:g,isValidConnection:w=Cr,onEdgeUpdateEnd:y,updateConnection:E,getTransform:v}){const k=ic(t.target);let H=0,z;const{x:F,y:I}=rt(t),q=k==null?void 0:k.elementFromPoint(F,I),T=Mr(r,q),V=l==null?void 0:l.getBoundingClientRect();if(!V||!T)return;let L,C=rt(t,V),_=!1,M=null,b=!1,P=null;const R=Sc({nodes:a,nodeId:o,handleId:i,handleType:T});function N(){if(!c||!V)return;const[j,le]=gr(C,V);d({x:j,y:le}),H=requestAnimationFrame(N)}fn={nodeId:o,handleId:i,type:T},E({connectionPosition:C,connectionStatus:null,connectionStartHandle:fn,connectionEndHandle:null}),h==null||h(t,{nodeId:o,handleId:i,handleType:T});function A(j){const le=v();C=rt(j,V),z=pc(vi(C,le,!1,[1,1]),n,R),_||(N(),_=!0);const Y=zr(j,{handle:z,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:w,doc:k,lib:u});if(P=Y.handleDomNode,M=Y.connection,b=Y.isValid,E({connectionStartHandle:fn,connectionPosition:z&&b?nc({x:z.x,y:z.y},le):C,connectionStatus:Ec(!!z,b),connectionEndHandle:Y.endHandle}),!z&&!b&&!P)return Un(L,u);M.source!==M.target&&P&&(Un(L,u),L=P,P.classList.add("connecting",`${u}-flow__handle-connecting`),P.classList.toggle("valid",b),P.classList.toggle(`${u}-flow__handle-valid`,b))}function G(j){(z||P)&&M&&b&&(m==null||m(M)),g==null||g(j),r&&(y==null||y(j)),Un(L,u),f(),cancelAnimationFrame(H),_=!1,b=!1,M=null,P=null,fn=null,k.removeEventListener("mousemove",A),k.removeEventListener("mouseup",G),k.removeEventListener("touchmove",A),k.removeEventListener("touchend",G)}k.addEventListener("mousemove",A),k.addEventListener("mouseup",G),k.addEventListener("touchmove",A),k.addEventListener("touchend",G)}function zr(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,isValidConnection:a=Cr}){const u=r==="target",c=s.querySelector(`.${l}-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),{x:d,y:f}=rt(t),h=s.elementFromPoint(d,f),m=h!=null&&h.classList.contains(`${l}-flow__handle`)?h:c,g={handleDomNode:m,isValid:!1,connection:Mc,endHandle:null};if(m){const w=Mr(void 0,m),y=m.getAttribute("data-nodeid"),E=m.getAttribute("data-handleid"),v=m.classList.contains("connectable"),k=m.classList.contains("connectableend"),H={source:u?y:i,sourceHandle:u?E:o,target:u?i:y,targetHandle:u?o:E};g.connection=H,v&&k&&(n===bt.Strict?u&&w==="source"||!u&&w==="target":y!==i||E!==o)&&(g.endHandle={nodeId:y,handleId:E,type:w},g.isValid=a(H))}return g}const zc={onPointerDown:Cc,isValid:zr};function Pc({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=Xe(t);function r({translateExtent:l,width:a,height:u,zoomStep:c=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=y=>{const E=n();if(y.sourceEvent.type!=="wheel"||!e)return;const v=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,k=E[2]*Math.pow(2,v);e.scaleTo(k)},g=y=>{const E=n();if(y.sourceEvent.type!=="mousemove"||!e)return;const v=i()*Math.max(1,E[2])*(h?-1:1),k={x:E[0]-y.sourceEvent.movementX*v,y:E[1]-y.sourceEvent.movementY*v},H=[[0,0],[a,u]];e.setViewportConstrained({x:k.x,y:k.y,zoom:E[2]},H,l)},w=fr().on("zoom",d?g:null).on("zoom.wheel",f?m:null);o.call(w,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:Le}}const Nc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,In=t=>({x:t.x,y:t.y,zoom:t.k}),Jn=({x:t,y:e,zoom:n})=>Vn.translate(t,e).scale(n),St=(t,e)=>t.target.closest(`.${e}`),Pr=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Qn=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,Nr=t=>{const e=t.ctrlKey&&Pn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Oc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return c=>{if(St(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1,f=Pn();if(c.ctrlKey&&s&&f){const y=Le(c),E=Nr(c),v=d*Math.pow(2,E);i.scaleTo(n,v,y,c);return}const h=c.deltaMode===1?20:1;let m=o===$e.Vertical?0:c.deltaX*h,g=o===$e.Horizontal?0:c.deltaY*h;!f&&c.shiftKey&&o!==$e.Vertical&&(m=c.deltaY*h,g=0),i.translateBy(n,-(m/d)*r,-(g/d)*r,{internal:!0});const w=In(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(c,w)),t.isPanScrolling&&(a==null||a(c,w),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,w),t.isPanScrolling=!1},150))}}function Ac({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e||St(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function Tc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=In(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Hc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&Pr(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,In(r.transform)))}}function Dc({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&Pr(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Nc(t.prevViewport,s.transform))){const a=In(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Vc({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return c=>{const d=t||e,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(St(c,`${u}-flow__node`)||St(c,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||!r&&c.type==="dblclick"||St(c,l)&&c.type==="wheel"||St(c,a)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel"||!d&&!o&&!f&&c.type==="wheel"||!i&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(i)&&!i.includes(c.button)&&(c.type==="mousedown"||c.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function Ic({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:r,onPanZoomStart:s,onPanZoomEnd:l,onTransformChange:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=fr().scaleExtent([e,n]).translateExtent(i),h=Xe(t).call(f);E({x:o.x,y:o.y,zoom:At(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom");f.wheelDelta(Nr);function g(T,V){h&&(f==null||f.transform(Qn(h,V==null?void 0:V.duration),T))}function w({noWheelClassName:T,noPanClassName:V,onPaneContextMenu:L,userSelectionActive:C,panOnScroll:_,panOnDrag:M,panOnScrollMode:b,panOnScrollSpeed:P,preventScrolling:R,zoomOnPinch:N,zoomOnScroll:A,zoomOnDoubleClick:G,zoomActivationKeyPressed:j,lib:le}){C&&!c.isZoomingOrPanning&&y();const $=_&&!j&&!C?Oc({zoomPanValues:c,noWheelClassName:T,d3Selection:h,d3Zoom:f,panOnScrollMode:b,panOnScrollSpeed:P,zoomOnPinch:N,onPanZoomStart:s,onPanZoom:r,onPanZoomEnd:l}):Ac({noWheelClassName:T,preventScrolling:R,d3ZoomHandler:m});if(h.on("wheel.zoom",$,{passive:!1}),!C){const ie=Tc({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});f.on("start",ie);const ge=Hc({zoomPanValues:c,panOnDrag:M,onPaneContextMenu:!!L,onPanZoom:r,onTransformChange:a});f.on("zoom",ge);const K=Dc({zoomPanValues:c,panOnDrag:M,panOnScroll:_,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:u});f.on("end",K)}const X=Vc({zoomActivationKeyPressed:j,panOnDrag:M,zoomOnScroll:A,panOnScroll:_,zoomOnDoubleClick:G,zoomOnPinch:N,userSelectionActive:C,noPanClassName:V,noWheelClassName:T,lib:le});f.filter(X)}function y(){f.on("zoom",null)}function E(T,V,L){const C=Jn(T),_=f==null?void 0:f.constrain()(C,V,L);return _&&g(_),_}function v(T,V){const L=Jn(T);return g(L,V),L}function k(T){if(h){const V=Jn(T),L=h.property("__zoom");(L.k!==T.zoom||L.x!==T.x||L.y!==T.y)&&(f==null||f.transform(h,V,null,{sync:!0}))}}function H(){const T=h?cr(h.node()):{x:0,y:0,k:1};return{x:T.x,y:T.y,zoom:T.k}}function z(T,V){h&&(f==null||f.scaleTo(Qn(h,V==null?void 0:V.duration),T))}function F(T,V){h&&(f==null||f.scaleBy(Qn(h,V==null?void 0:V.duration),T))}function I(T){f==null||f.scaleExtent(T)}function q(T){f==null||f.translateExtent(T)}return{update:w,destroy:y,setViewport:v,setViewportConstrained:E,getViewport:H,scaleTo:z,scaleBy:F,setScaleExtent:I,setTranslateExtent:q,syncViewport:k}}const Rc=cc,no=hr;function Bc(t){let e,n,i,o,r,s;const l=t[22].default,a=Fe(l,t,t[21],null);return{c(){e=Ce("div"),a&&a.c(),this.h()},l(u){e=ze(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var c=se(e);a&&a.l(c),c.forEach(O),this.h()},h(){p(e,"data-handleid",t[9]),p(e,"data-nodeid",t[7]),p(e,"data-handlepos",t[2]),p(e,"data-id",n=t[7]+"-"+(t[0]||null)+"-"+t[1]),p(e,"class",i=Pe(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),p(e,"style",t[3]),p(e,"role","button"),p(e,"tabindex","-1"),he(e,"source",!t[6]),he(e,"target",t[6]),he(e,"connectablestart",t[5]),he(e,"connectableend",t[5]),he(e,"connectable",t[5]),he(e,"connectionindicator",t[5])},m(u,c){Z(u,e,c),a&&a.m(e,null),o=!0,r||(s=[ke(e,"mousedown",t[18]),ke(e,"touchstart",t[18])],r=!0)},p(u,c){a&&a.p&&(!o||c[0]&2097152)&&Ze(a,l,u,u[21],o?Ge(l,u[21],c,null):qe(u[21]),null),(!o||c[0]&4)&&p(e,"data-handlepos",u[2]),(!o||c[0]&3&&n!==(n=u[7]+"-"+(u[0]||null)+"-"+u[1]))&&p(e,"data-id",n),(!o||c[0]&20&&i!==(i=Pe(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&p(e,"class",i),(!o||c[0]&8)&&p(e,"style",u[3]),(!o||c[0]&84)&&he(e,"source",!u[6]),(!o||c[0]&84)&&he(e,"target",u[6]),(!o||c[0]&52)&&he(e,"connectablestart",u[5]),(!o||c[0]&52)&&he(e,"connectableend",u[5]),(!o||c[0]&52)&&he(e,"connectable",u[5]),(!o||c[0]&52)&&he(e,"connectionindicator",u[5])},i(u){o||(D(a,u),o=!0)},o(u){B(a,u),o=!1},d(u){u&&O(e),a&&a.d(u),r=!1,ct(s)}}}function Xc(t,e,n){let i,o,r,s,l,a,u,c,d,f,{$$slots:h={},$$scope:m}=e,{id:g=void 0}=e,{type:w="source"}=e,{position:y=ue.Top}=e,{style:E=void 0}=e,{isConnectable:v=void 0}=e,{class:k=void 0}=e;const H=w==="target",z=$n("svelteflow__node_id"),F=$n("svelteflow__node_connectable");U(t,F,Y=>n(20,f=Y));const I=g||null,q=Qt(),T=He(),{connectionMode:V,domNode:L,nodes:C,connectionRadius:_,viewport:M,isValidConnection:b,lib:P,addEdge:R,panBy:N,cancelConnection:A,updateConnection:G,autoPanOnConnect:j}=T;U(t,V,Y=>n(27,a=Y)),U(t,L,Y=>n(29,c=Y)),U(t,C,Y=>n(28,u=Y)),U(t,_,Y=>n(30,d=Y)),U(t,M,Y=>n(23,o=Y)),U(t,b,Y=>n(24,r=Y)),U(t,P,Y=>n(26,l=Y)),U(t,j,Y=>n(25,s=Y));function le(Y){const $=br(Y);($&&Y.button===0||!$)&&zc.onPointerDown(Y,{handleId:I,nodeId:z,isTarget:H,connectionRadius:d,domNode:c,nodes:u,connectionMode:a,lib:l,autoPanOnConnect:s,isValidConnection:r,updateConnection:G,cancelConnection:A,panBy:N,onConnect:X=>{R(X),q("connect",{connection:X})},onConnectStart:(X,ie)=>{q("connectstart",{event:X,nodeId:ie.nodeId,handleId:ie.handleId,handleType:ie.handleType})},onConnectEnd:X=>{q("connectend",{event:X})},getTransform:()=>[o.x,o.y,o.zoom]})}return t.$$set=Y=>{"id"in Y&&n(0,g=Y.id),"type"in Y&&n(1,w=Y.type),"position"in Y&&n(2,y=Y.position),"style"in Y&&n(3,E=Y.style),"isConnectable"in Y&&n(19,v=Y.isConnectable),"class"in Y&&n(4,k=Y.class),"$$scope"in Y&&n(21,m=Y.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1572864&&n(5,i=v!==void 0?v:f)},[g,w,y,E,k,i,H,z,F,I,V,L,C,_,M,b,P,j,le,v,f,m,h]}class Yc extends ce{constructor(e){super(),fe(this,e,Xc,Bc,de,{id:0,type:1,position:2,style:3,isConnectable:19,class:4},null,[-1,-1])}}const wt=Yc;function Lc(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new wt({props:{type:"target",position:t[1]}}),e.$on("connectstart",t[13]),e.$on("connect",t[14]),e.$on("connectend",t[15]),s=new wt({props:{type:"source",position:t[2]}}),s.$on("connectstart",t[16]),s.$on("connect",t[17]),s.$on("connectend",t[18]),{c(){ee(e.$$.fragment),n=pe(),o=Tt(i),r=pe(),ee(s.$$.fragment)},l(u){re(e.$$.fragment,u),n=Se(u),o=Ht(u,i),r=Se(u),re(s.$$.fragment,u)},m(u,c){te(e,u,c),Z(u,n,c),Z(u,o,c),Z(u,r,c),te(s,u,c),l=!0},p(u,[c]){var h;const d={};c&2&&(d.position=u[1]),e.$set(d),(!l||c&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Dt(o,i);const f={};c&4&&(f.position=u[2]),s.$set(f)},i(u){l||(D(e.$$.fragment,u),D(s.$$.fragment,u),l=!0)},o(u){B(e.$$.fragment,u),B(s.$$.fragment,u),l=!1},d(u){u&&(O(n),O(o),O(r)),ne(e,u),ne(s,u)}}}function Kc(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=ue.Top}=e,{sourcePosition:r=ue.Bottom}=e,{id:s=""}=e,{width:l=void 0}=e,{height:a=void 0}=e,{selected:u=void 0}=e,{type:c=void 0}=e,{zIndex:d=void 0}=e,{dragging:f=!1}=e,{dragHandle:h=void 0}=e,{positionAbsolute:m={x:0,y:0}}=e,{isConnectable:g=void 0}=e;function w(z){x.call(this,t,z)}function y(z){x.call(this,t,z)}function E(z){x.call(this,t,z)}function v(z){x.call(this,t,z)}function k(z){x.call(this,t,z)}function H(z){x.call(this,t,z)}return t.$$set=z=>{"data"in z&&n(0,i=z.data),"targetPosition"in z&&n(1,o=z.targetPosition),"sourcePosition"in z&&n(2,r=z.sourcePosition),"id"in z&&n(3,s=z.id),"width"in z&&n(4,l=z.width),"height"in z&&n(5,a=z.height),"selected"in z&&n(6,u=z.selected),"type"in z&&n(7,c=z.type),"zIndex"in z&&n(8,d=z.zIndex),"dragging"in z&&n(9,f=z.dragging),"dragHandle"in z&&n(10,h=z.dragHandle),"positionAbsolute"in z&&n(11,m=z.positionAbsolute),"isConnectable"in z&&n(12,g=z.isConnectable)},[i,o,r,s,l,a,u,c,d,f,h,m,g,w,y,E,v,k,H]}class Wc extends ce{constructor(e){super(),fe(this,e,Kc,Lc,de,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const Or=Wc;function Fc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new wt({props:{type:"source",position:t[1]}}),o.$on("connectstart",t[13]),o.$on("connect",t[14]),o.$on("connectend",t[15]),{c(){n=Tt(e),i=pe(),ee(o.$$.fragment)},l(l){n=Ht(l,e),i=Se(l),re(o.$$.fragment,l)},m(l,a){Z(l,n,a),Z(l,i,a),te(o,l,a),r=!0},p(l,[a]){var c;(!r||a&1)&&e!==(e=((c=l[0])==null?void 0:c.label)+"")&&Dt(n,e);const u={};a&2&&(u.position=l[1]),o.$set(u)},i(l){r||(D(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(O(n),O(i)),ne(o,l)}}}function Zc(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:o=ue.Bottom}=e,{id:r=""}=e,{width:s=void 0}=e,{height:l=void 0}=e,{selected:a=void 0}=e,{targetPosition:u=void 0}=e,{type:c=void 0}=e,{zIndex:d=void 0}=e,{dragging:f=!1}=e,{dragHandle:h=void 0}=e,{positionAbsolute:m={x:0,y:0}}=e,{isConnectable:g=void 0}=e;function w(v){x.call(this,t,v)}function y(v){x.call(this,t,v)}function E(v){x.call(this,t,v)}return t.$$set=v=>{"data"in v&&n(0,i=v.data),"sourcePosition"in v&&n(1,o=v.sourcePosition),"id"in v&&n(2,r=v.id),"width"in v&&n(3,s=v.width),"height"in v&&n(4,l=v.height),"selected"in v&&n(5,a=v.selected),"targetPosition"in v&&n(6,u=v.targetPosition),"type"in v&&n(7,c=v.type),"zIndex"in v&&n(8,d=v.zIndex),"dragging"in v&&n(9,f=v.dragging),"dragHandle"in v&&n(10,h=v.dragHandle),"positionAbsolute"in v&&n(11,m=v.positionAbsolute),"isConnectable"in v&&n(12,g=v.isConnectable)},[i,o,r,s,l,a,u,c,d,f,h,m,g,w,y,E]}class qc extends ce{constructor(e){super(),fe(this,e,Zc,Fc,de,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const Gc=qc;function Uc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new wt({props:{type:"target",position:t[1]}}),o.$on("connectstart",t[13]),o.$on("connect",t[14]),o.$on("connectend",t[15]),{c(){n=Tt(e),i=pe(),ee(o.$$.fragment)},l(l){n=Ht(l,e),i=Se(l),re(o.$$.fragment,l)},m(l,a){Z(l,n,a),Z(l,i,a),te(o,l,a),r=!0},p(l,[a]){var c;(!r||a&1)&&e!==(e=((c=l[0])==null?void 0:c.label)+"")&&Dt(n,e);const u={};a&2&&(u.position=l[1]),o.$set(u)},i(l){r||(D(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(O(n),O(i)),ne(o,l)}}}function Jc(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=ue.Top}=e,{id:r=""}=e,{width:s=void 0}=e,{height:l=void 0}=e,{selected:a=void 0}=e,{sourcePosition:u=void 0}=e,{type:c=void 0}=e,{zIndex:d=void 0}=e,{dragging:f=!1}=e,{dragHandle:h=void 0}=e,{positionAbsolute:m={x:0,y:0}}=e,{isConnectable:g=void 0}=e;function w(v){x.call(this,t,v)}function y(v){x.call(this,t,v)}function E(v){x.call(this,t,v)}return t.$$set=v=>{"data"in v&&n(0,i=v.data),"targetPosition"in v&&n(1,o=v.targetPosition),"id"in v&&n(2,r=v.id),"width"in v&&n(3,s=v.width),"height"in v&&n(4,l=v.height),"selected"in v&&n(5,a=v.selected),"sourcePosition"in v&&n(6,u=v.sourcePosition),"type"in v&&n(7,c=v.type),"zIndex"in v&&n(8,d=v.zIndex),"dragging"in v&&n(9,f=v.dragging),"dragHandle"in v&&n(10,h=v.dragHandle),"positionAbsolute"in v&&n(11,m=v.positionAbsolute),"isConnectable"in v&&n(12,g=v.isConnectable)},[i,o,r,s,l,a,u,c,d,f,h,m,g,w,y,E]}class Qc extends ce{constructor(e){super(),fe(this,e,Jc,Uc,de,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const jc=Qc;function xc(t,e,n){let{id:i=""}=e,{width:o=void 0}=e,{height:r=void 0}=e,{data:s={}}=e,{selected:l=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:u=void 0}=e,{type:c=void 0}=e,{zIndex:d=void 0}=e,{dragging:f=!1}=e,{dragHandle:h=void 0}=e,{positionAbsolute:m={x:0,y:0}}=e,{isConnectable:g=void 0}=e;return t.$$set=w=>{"id"in w&&n(0,i=w.id),"width"in w&&n(1,o=w.width),"height"in w&&n(2,r=w.height),"data"in w&&n(3,s=w.data),"selected"in w&&n(4,l=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,u=w.targetPosition),"type"in w&&n(7,c=w.type),"zIndex"in w&&n(8,d=w.zIndex),"dragging"in w&&n(9,f=w.dragging),"dragHandle"in w&&n(10,h=w.dragHandle),"positionAbsolute"in w&&n(11,m=w.positionAbsolute),"isConnectable"in w&&n(12,g=w.isConnectable)},[i,o,r,s,l,a,u,c,d,f,h,m,g]}class $c extends ce{constructor(e){super(),fe(this,e,xc,null,de,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const ef=$c;function io(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function tf(t,{target:e,domNode:n}){return io(t,n,e),{async update({target:i,domNode:o}){io(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function nf(t){let e,n,i,o,r;const s=t[3].default,l=Fe(s,t,t[2],null);return{c(){e=Ce("div"),l&&l.c()},l(a){e=ze(a,"DIV",{});var u=se(e);l&&l.l(u),u.forEach(O)},m(a,u){Z(a,e,u),l&&l.m(e,null),i=!0,o||(r=De(n=tf.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Ze(l,s,a,a[2],i?Ge(s,a[2],u,null):qe(a[2]),null),n&&Ne(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(D(l,a),i=!0)},o(a){B(l,a),i=!1},d(a){a&&O(e),l&&l.d(a),o=!1,r()}}}function of(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=He();return U(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class rf extends ce{constructor(e){super(),fe(this,e,of,nf,de,{})}}const lf=rf;function sf(t){let e;return{c(){e=ye("path"),this.h()},l(n){e=be(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),se(e).forEach(O),this.h()},h(){p(e,"d",t[1]),p(e,"stroke-opacity",0),p(e,"stroke-width",t[10]),p(e,"fill","none"),p(e,"class","svelte-flow__edge-interaction")},m(n,i){Z(n,e,i)},p(n,i){i&2&&p(e,"d",n[1])},d(n){n&&O(e)}}}function oo(t){let e,n;return e=new lf({props:{$$slots:{default:[af]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,o){const r={};o&4156&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function af(t){let e,n,i=`translate(-50%, -50%) translate(${t[3]}px,${t[4]}px)`;return{c(){e=Ce("div"),n=Tt(t[2]),this.h()},l(o){e=ze(o,"DIV",{class:!0,style:!0});var r=se(e);n=Ht(r,t[2]),r.forEach(O),this.h()},h(){p(e,"class","svelte-flow__edge-label"),p(e,"style",t[5]),ae(e,"transform",i)},m(o,r){Z(o,e,r),Oe(e,n)},p(o,r){r&4&&Dt(n,o[2]),r&32&&p(e,"style",o[5]);const s=r&32;(r&56&&i!==(i=`translate(-50%, -50%) translate(${o[3]}px,${o[4]}px)`)||s)&&ae(e,"transform",i)},d(o){o&&O(e)}}}function uf(t){let e,n,i,o,r,s,l=t[10]&&sf(t),a=t[2]&&oo(t);return{c(){e=ye("path"),i=pe(),l&&l.c(),o=pe(),a&&a.c(),r=me(),this.h()},l(u){e=be(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),se(e).forEach(O),i=Se(u),l&&l.l(u),o=Se(u),a&&a.l(u),r=me(),this.h()},h(){p(e,"id",t[0]),p(e,"d",t[1]),p(e,"class",n=Pe(["svelte-flow__edge-path",t[9]])),p(e,"marker-start",t[6]),p(e,"marker-end",t[7]),p(e,"fill","none"),p(e,"style",t[8])},m(u,c){Z(u,e,c),Z(u,i,c),l&&l.m(u,c),Z(u,o,c),a&&a.m(u,c),Z(u,r,c),s=!0},p(u,[c]){(!s||c&1)&&p(e,"id",u[0]),(!s||c&2)&&p(e,"d",u[1]),(!s||c&512&&n!==(n=Pe(["svelte-flow__edge-path",u[9]])))&&p(e,"class",n),(!s||c&64)&&p(e,"marker-start",u[6]),(!s||c&128)&&p(e,"marker-end",u[7]),(!s||c&256)&&p(e,"style",u[8]),u[10]&&l.p(u,c),u[2]?a?(a.p(u,c),c&4&&D(a,1)):(a=oo(u),a.c(),D(a,1),a.m(r.parentNode,r)):a&&(Ae(),B(a,1,1,()=>{a=null}),Te())},i(u){s||(D(a),s=!0)},o(u){B(a),s=!1},d(u){u&&(O(e),O(i),O(o),O(r)),l&&l.d(u),a&&a.d(u)}}}function cf(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:c=void 0}=e,{style:d=void 0}=e,{interactionWidth:f=20}=e,{class:h=void 0}=e,m=f===void 0?20:f;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"path"in g&&n(1,o=g.path),"label"in g&&n(2,r=g.label),"labelX"in g&&n(3,s=g.labelX),"labelY"in g&&n(4,l=g.labelY),"labelStyle"in g&&n(5,a=g.labelStyle),"markerStart"in g&&n(6,u=g.markerStart),"markerEnd"in g&&n(7,c=g.markerEnd),"style"in g&&n(8,d=g.style),"interactionWidth"in g&&n(11,f=g.interactionWidth),"class"in g&&n(9,h=g.class)},[i,o,r,s,l,a,u,c,d,h,m,f]}class ff extends ce{constructor(e){super(),fe(this,e,cf,uf,de,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const Rn=ff;function df(t){let e,n;return e=new Rn({props:{path:t[2],labelX:t[1],labelY:t[0],id:t[3].id,label:t[3].label,labelStyle:t[3].labelStyle,markerStart:t[3].markerStart,markerEnd:t[3].markerEnd,interactionWidth:t[3].interactionWidth,style:t[3].style}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function hf(t,e,n){let i,o,r;return t.$$set=s=>{n(3,e=Me(Me({},e),We(s)))},t.$$.update=()=>{n(2,[i,o,r]=wr({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition}),i,(n(1,o),n(3,e)),(n(0,r),n(3,e)))},e=We(e),[r,o,i,e]}class gf extends ce{constructor(e){super(),fe(this,e,hf,df,de,{})}}const Ar=gf;function mf(t){let e,n;return e=new Rn({props:{path:t[2],labelX:t[1],labelY:t[0],id:t[3].id,label:t[3].label,labelStyle:t[3].labelStyle,markerStart:t[3].markerStart,markerEnd:t[3].markerEnd,interactionWidth:t[3].interactionWidth,style:t[3].style}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function _f(t,e,n){let i,o,r;return t.$$set=s=>{n(3,e=Me(Me({},e),We(s)))},t.$$.update=()=>{n(2,[i,o,r]=kr({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY}),i,(n(1,o),n(3,e)),(n(0,r),n(3,e)))},e=We(e),[r,o,i,e]}class yf extends ce{constructor(e){super(),fe(this,e,_f,mf,de,{})}}const bf=yf;function wf(t){let e,n;return e=new Rn({props:{path:t[2],labelX:t[1],labelY:t[0],id:t[3].id,label:t[3].label,labelStyle:t[3].labelStyle,markerStart:t[3].markerStart,markerEnd:t[3].markerEnd,interactionWidth:t[3].interactionWidth,style:t[3].style}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function vf(t,e,n){let i,o,r;return t.$$set=s=>{n(3,e=Me(Me({},e),We(s)))},t.$$.update=()=>{n(2,[i,o,r]=Nn({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition}),i,(n(1,o),n(3,e)),(n(0,r),n(3,e)))},e=We(e),[r,o,i,e]}class kf extends ce{constructor(e){super(),fe(this,e,vf,wf,de,{})}}const pf=kf;function Sf(t){let e,n;return e=new Rn({props:{path:t[2],labelX:t[1],labelY:t[0],id:t[3].id,label:t[3].label,labelStyle:t[3].labelStyle,markerStart:t[3].markerStart,markerEnd:t[3].markerEnd,interactionWidth:t[3].interactionWidth,style:t[3].style}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Ef(t,e,n){let i,o,r;return t.$$set=s=>{n(3,e=Me(Me({},e),We(s)))},t.$$.update=()=>{n(2,[i,o,r]=Nn({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition,borderRadius:0}),i,(n(1,o),n(3,e)),(n(0,r),n(3,e)))},e=We(e),[r,o,i,e]}class Mf extends ce{constructor(e){super(),fe(this,e,Ef,Sf,de,{})}}const Cf=Mf;function zf(t,e){const n=t.set,i=e.set,o=Q(t),r=Q(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const c=n(u);return l=c,i(l),c};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function Pf(t,e){const n=t.set,i=e.set;let o=Q(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const Nf=(t,e,n)=>{if(!n)return;const i=Q(t),o=e.set,r=n.set;let s=n?Q(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},Of=(t,e)=>{const{subscribe:n,set:i,update:o}=oe([]);let r=t,s={},l=!0;const a=f=>(r=pr(f,e,{elevateNodesOnSelect:l,defaults:s}),i(r),r),u=f=>a(f(r)),c=f=>{s=f},d=f=>{l=f.elevateNodesOnSelect??l};return a(r),{subscribe:n,set:a,update:u,setDefaultOptions:c,setOptions:d}},Af=(t,e)=>{const{subscribe:n,set:i,update:o}=oe([]);let r=t,s=e||{};const l=c=>{r=s?c.map(f=>({...s,...f})):c,i(r)},a=c=>l(c(r)),u=c=>{s=c};return l(r),{subscribe:n,set:l,update:a,setDefaultOptions:u}},Tr={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},Tf={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top};function Hf(t,e){return Wt([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,o,r,s])=>{var H,z,F,I,q,T,V,L,C,_,M,b,P;if(!((H=n.connectionStartHandle)!=null&&H.nodeId))return Tr;const l=r.get((z=n.connectionStartHandle)==null?void 0:z.nodeId),a=(F=l==null?void 0:l[Ee])==null?void 0:F.handleBounds,u=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],c=u||(a==null?void 0:a[((I=n==null?void 0:n.connectionStartHandle)==null?void 0:I.type)==="source"?"target":"source"]),d=o===bt.Strict?u:c,f=(q=n.connectionStartHandle)!=null&&q.handleId?d.find(R=>{var N;return R.id===((N=n.connectionStartHandle)==null?void 0:N.handleId)}):d[0],h=f?f.x+f.width/2:(((T=l==null?void 0:l.computed)==null?void 0:T.width)??0)/2,m=f?f.y+f.height/2:((V=l==null?void 0:l.computed)==null?void 0:V.height)??0,g=(((C=(L=l==null?void 0:l.computed)==null?void 0:L.positionAbsolute)==null?void 0:C.x)??0)+h,w=(((M=(_=l==null?void 0:l.computed)==null?void 0:_.positionAbsolute)==null?void 0:M.y)??0)+m,y=f==null?void 0:f.position,E=y?Tf[y]:void 0,v={sourceX:g,sourceY:w,sourcePosition:y,targetX:((((b=n.connectionPosition)==null?void 0:b.x)??0)-s.x)/s.zoom,targetY:((((P=n.connectionPosition)==null?void 0:P.y)??0)-s.y)/s.zoom,targetPosition:E};let k="";return i===Ct.Bezier?[k]=wr(v):i===Ct.Step?[k]=Nn({...v,borderRadius:0}):i===Ct.SmoothStep?[k]=Nn(v):[k]=kr(v),{path:k,...v,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Hr={input:Gc,output:jc,default:Or,group:ef},Dr={straight:bf,smoothstep:pf,default:Ar,step:Cf},Df=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o})=>{const r=new Map,s=pr(t,r,{nodeOrigin:[0,0],elevateNodesOnSelect:!1});let l={x:0,y:0,zoom:1};if(o&&n&&i){const a=s.filter(c=>c.width&&c.height),u=nn(a,[0,0]);l=_r(u,n,i,.5,2,.1)}return{flowId:oe(null),nodes:Of(s,r),nodeLookup:gt(r),visibleNodes:gt([]),edges:Af(e),edgeTree:gt([]),height:oe(500),width:oe(500),minZoom:oe(.5),maxZoom:oe(2),nodeOrigin:oe([0,0]),nodeDragThreshold:oe(0),nodeExtent:oe(Fi),translateExtent:oe(Fi),autoPanOnNodeDrag:oe(!0),autoPanOnConnect:oe(!0),fitViewOnInit:oe(!1),fitViewOnInitDone:oe(!1),fitViewOptions:oe(void 0),panZoom:oe(null),snapGrid:oe(null),dragging:oe(!1),selectionRect:oe(null),selectionKeyPressed:oe(!1),multiselectionKeyPressed:oe(!1),deleteKeyPressed:oe(!1),panActivationKeyPressed:oe(!1),zoomActivationKeyPressed:oe(!1),selectionRectMode:oe(null),selectionMode:oe(En.Partial),nodeTypes:oe(Hr),edgeTypes:oe(Dr),viewport:oe(l),connectionMode:oe(bt.Strict),domNode:oe(null),connection:gt(Tr),connectionLineType:oe(Ct.Bezier),connectionRadius:oe(20),isValidConnection:oe(()=>!0),nodesDraggable:oe(!0),nodesConnectable:oe(!0),elementsSelectable:oe(!0),selectNodesOnDrag:oe(!0),markers:gt([]),defaultMarkerColor:oe("#b1b1b7"),lib:gt("svelte"),onlyRenderVisibleElements:oe(!1),onerror:oe(ec),ondelete:oe(void 0)}};function Vf(t){const e=Wt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const c=i.get(u.source),d=i.get(u.target);return c&&d&&sc({sourceNode:c,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Wt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>{const s=n.reduce((a,u)=>{const c=i.get(u.source),d=i.get(u.target);if(!c||!d)return a;const f=gc({id:u.id,sourceNode:c,targetNode:d,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:o,onError:r});return f&&a.push({...u,...f}),a},[]);return lc(s,i,!1)})}function If(t){return Wt([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?dr(e,{x:0,y:0,width:i,height:o},s,!0):e})}const ki=Symbol();function Rf({nodes:t,edges:e,width:n,height:i,fitView:o}){const r=Df({nodes:t,edges:e,width:n,height:i,fitView:o});function s(C){r.nodeTypes.set({...Hr,...C})}function l(C){r.edgeTypes.set({...Dr,...C})}function a(C){const _=Q(r.edges);r.edges.set(Rc(C,_))}const u=(C,_=!1)=>{r.nodes.update(M=>M.map(b=>{var R;const P=C.find(N=>N.id===b.id);return P?{...b,dragging:_,position:P.position,computed:{...b.computed,positionAbsolute:(R=P.computed)==null?void 0:R.positionAbsolute},[Ee]:b[Ee]}:b}))};function c(C){const _=bc(C,Q(r.nodes),Q(r.nodeLookup),Q(r.domNode),Q(r.nodeOrigin));if(_){if(!Q(r.fitViewOnInitDone)&&Q(r.fitViewOnInit)){const M=Q(r.fitViewOptions),b=d(_,{...M,nodes:(M==null?void 0:M.nodes)||_});r.fitViewOnInitDone.set(b)}r.nodes.set(_)}}function d(C,_){const M=Q(r.panZoom);return M?Gu({nodes:C,width:Q(r.width),height:Q(r.height),minZoom:Q(r.minZoom),maxZoom:Q(r.maxZoom),panZoom:M,nodeOrigin:Q(r.nodeOrigin)},_):!1}function f(C,_){const M=Q(r.panZoom);M&&M.scaleBy(C,_)}function h(C){f(1.2,C)}function m(C){f(1/1.2,C)}function g(C){const _=Q(r.panZoom);_&&(_.setScaleExtent([C,Q(r.maxZoom)]),r.minZoom.set(C))}function w(C){const _=Q(r.panZoom);_&&(_.setScaleExtent([Q(r.minZoom),C]),r.maxZoom.set(C))}function y(C){const _=Q(r.panZoom);_&&(_.setTranslateExtent(C),r.translateExtent.set(C))}function E(C){return _=>_.selected&&C.includes(_.id)?{..._,selected:!1}:_}function v(C){const _=(C!=null&&C.nodes?C.nodes:Q(r.nodes)).map(b=>b.id),M=(C!=null&&C.edges?C.edges:Q(r.edges)).map(b=>b.id);r.nodes.update(b=>b.map(E(_))),r.edges.update(b=>b.map(E(M)))}r.deleteKeyPressed.subscribe(C=>{var _;if(C){const M=Q(r.nodes),b=Q(r.edges),P=M.filter(G=>G.selected),R=b.filter(G=>G.selected),{matchingNodes:N,matchingEdges:A}=Qu({nodesToRemove:P,edgesToRemove:R,nodes:M,edges:b});(N.length||A.length)&&(r.nodes.update(G=>G.filter(j=>!N.some(le=>le.id===j.id))),r.edges.update(G=>G.filter(j=>!A.some(le=>le.id===j.id))),(_=Q(r.ondelete))==null||_({nodes:N,edges:A}))}});function k(C){const _=Q(r.multiselectionKeyPressed);r.nodes.update(M=>M.map(b=>{const P=C.includes(b.id),R=_&&b.selected||P;return b.selected=R,b})),_||r.edges.update(M=>M.map(b=>(b.selected=!1,b)))}function H(C){const _=Q(r.multiselectionKeyPressed);r.edges.update(M=>M.map(b=>{const P=C.includes(b.id),R=_&&b.selected||P;return b.selected=R,b})),_||r.nodes.update(M=>M.map(b=>(b.selected=!1,b)))}function z(C){var M;const _=(M=Q(r.nodes))==null?void 0:M.find(b=>b.id===C);if(!_){console.warn("012",tn.error012(C));return}r.selectionRect.set(null),r.selectionRectMode.set(null),_.selected?_.selected&&Q(r.multiselectionKeyPressed)&&v({nodes:[_],edges:[]}):k([C])}function F(C){const _=Q(r.viewport);return wc({delta:C,panZoom:Q(r.panZoom),transform:[_.x,_.y,_.zoom],translateExtent:Q(r.translateExtent),width:Q(r.width),height:Q(r.height)})}const I={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},q=oe(I),T=C=>{q.set(C)};function V(){T(I)}function L(){r.fitViewOnInitDone.set(!1),r.selectionRect.set(null),r.selectionRectMode.set(null),r.snapGrid.set(null),r.isValidConnection.set(()=>!0),r.nodes.set([]),r.edges.set([]),v(),V()}return{...r,edgeTree:Vf(r),connection:Hf(r,q),visibleNodes:If(r),markers:Wt([r.edges,r.defaultMarkerColor,r.flowId],([C,_,M])=>_c(C,{defaultColor:_,id:M})),syncNodeStores:C=>zf(r.nodes,C),syncEdgeStores:C=>Pf(r.edges,C),syncViewport:C=>Nf(r.panZoom,r.viewport,C),setNodeTypes:s,setEdgeTypes:l,addEdge:a,updateNodePositions:u,updateNodeDimensions:c,zoomIn:h,zoomOut:m,fitView:C=>d(Q(r.nodes),C),setMinZoom:g,setMaxZoom:w,setTranslateExtent:y,unselectNodesAndEdges:v,addSelectedNodes:k,addSelectedEdges:H,handleNodeSelection:z,panBy:F,updateConnection:T,cancelConnection:V,reset:L}}function He(){const t=$n(ki);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Bf({nodes:t,edges:e,width:n,height:i,fitView:o}){const r=Rf({nodes:t,edges:e,width:n,height:i,fitView:o});return ei(ki,{getStore:()=>r}),r}function Xf(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a}=e,u=Ic({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,onTransformChange:d=>s.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:l.set}),c=u.getViewport();return s.set(c),n.set(u),u.update(e),{update(d){u.update(d)}}}function Yf(t){let e,n,i,o,r;const s=t[32].default,l=Fe(s,t,t[31],null);return{c(){e=Ce("div"),l&&l.c(),this.h()},l(a){e=ze(a,"DIV",{class:!0});var u=se(e);l&&l.l(u),u.forEach(O),this.h()},h(){p(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Z(a,e,u),l&&l.m(e,null),i=!0,o||(r=De(n=Xf.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||$e.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&1)&&Ze(l,s,a,a[31],i?Ge(s,a[31],u,null):qe(a[31]),null),n&&Ne(n.update)&&u[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||$e.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||(D(l,a),i=!0)},o(a){B(l,a),i=!1},d(a){a&&O(e),l&&l.d(a),o=!1,r()}}}function Lf(t,e,n){let i,o,r,s,l,a,u,c,d,f,{$$slots:h={},$$scope:m}=e,{initialViewport:g}=e,{onMoveStart:w=void 0}=e,{onMove:y=void 0}=e,{onMoveEnd:E=void 0}=e,{panOnScrollMode:v}=e,{preventScrolling:k}=e,{zoomOnScroll:H}=e,{zoomOnDoubleClick:z}=e,{zoomOnPinch:F}=e,{panOnDrag:I}=e,{panOnScroll:q}=e;const{viewport:T,panZoom:V,selectionKeyPressed:L,minZoom:C,maxZoom:_,dragging:M,translateExtent:b,lib:P,panActivationKeyPressed:R,zoomActivationKeyPressed:N}=He();return U(t,L,A=>n(14,c=A)),U(t,C,A=>n(11,l=A)),U(t,_,A=>n(12,a=A)),U(t,b,A=>n(15,d=A)),U(t,P,A=>n(16,f=A)),U(t,R,A=>n(30,s=A)),U(t,N,A=>n(13,u=A)),t.$$set=A=>{"initialViewport"in A&&n(27,g=A.initialViewport),"onMoveStart"in A&&n(0,w=A.onMoveStart),"onMove"in A&&n(1,y=A.onMove),"onMoveEnd"in A&&n(2,E=A.onMoveEnd),"panOnScrollMode"in A&&n(3,v=A.panOnScrollMode),"preventScrolling"in A&&n(4,k=A.preventScrolling),"zoomOnScroll"in A&&n(5,H=A.zoomOnScroll),"zoomOnDoubleClick"in A&&n(6,z=A.zoomOnDoubleClick),"zoomOnPinch"in A&&n(7,F=A.zoomOnPinch),"panOnDrag"in A&&n(28,I=A.panOnDrag),"panOnScroll"in A&&n(29,q=A.panOnScroll),"$$scope"in A&&n(31,m=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217728&&n(10,i=g||{x:0,y:0,zoom:1}),t.$$.dirty[0]&1342177280&&n(9,o=s||I),t.$$.dirty[0]&1610612736&&n(8,r=s||q)},[w,y,E,v,k,H,z,F,r,o,i,l,a,u,c,d,f,T,V,L,C,_,M,b,P,R,N,g,I,q,s,m,h]}class Kf extends ce{constructor(e){super(),fe(this,e,Lf,Yf,de,{initialViewport:27,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:28,panOnScroll:29},null,[-1,-1])}}const Wf=Kf;function Ff(t){let e,n,i,o;const r=t[28].default,s=Fe(r,t,t[27],null);return{c(){e=Ce("div"),s&&s.c(),this.h()},l(l){e=ze(l,"DIV",{class:!0});var a=se(e);s&&s.l(a),a.forEach(O),this.h()},h(){p(e,"class","svelte-flow__pane svelte-1esy7hx"),he(e,"dragging",t[3]),he(e,"selection",t[0])},m(l,a){Z(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[ke(e,"click",function(){Ne(t[2]?void 0:dn(t[14],t[1]))&&(t[2]?void 0:dn(t[14],t[1])).apply(this,arguments)}),ke(e,"mousedown",function(){Ne(t[2]?t[15]:void 0)&&(t[2]?t[15]:void 0).apply(this,arguments)}),ke(e,"mousemove",function(){Ne(t[2]?t[16]:void 0)&&(t[2]?t[16]:void 0).apply(this,arguments)}),ke(e,"mouseup",function(){Ne(t[2]?t[17]:void 0)&&(t[2]?t[17]:void 0).apply(this,arguments)}),ke(e,"mouseleave",function(){Ne(t[2]?t[18]:void 0)&&(t[2]?t[18]:void 0).apply(this,arguments)}),ke(e,"contextmenu",function(){Ne(dn(t[19],t[1]))&&dn(t[19],t[1]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&Ze(s,r,t,t[27],n?Ge(r,t[27],a,null):qe(t[27]),null),(!n||a[0]&8)&&he(e,"dragging",t[3]),(!n||a[0]&1)&&he(e,"selection",t[0])},i(l){n||(D(s,l),n=!0)},o(l){B(s,l),n=!1},d(l){l&&O(e),s&&s.d(l),t[29](null),i=!1,ct(o)}}}function dn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function ro(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function Zf(t,e,n){let i,o,r,s,l,a,u,c,d,f,h,m,g,{$$slots:w={},$$scope:y}=e,{panOnDrag:E=void 0}=e,{selectionOnDrag:v=void 0}=e;const k=Qt(),{nodes:H,edges:z,viewport:F,dragging:I,elementsSelectable:q,selectionRect:T,selectionRectMode:V,selectionKeyPressed:L,selectionMode:C,panActivationKeyPressed:_,unselectNodesAndEdges:M}=He();U(t,H,X=>n(35,c=X)),U(t,z,X=>n(32,l=X)),U(t,F,X=>n(34,u=X)),U(t,I,X=>n(3,g=X)),U(t,q,X=>n(24,f=X)),U(t,T,X=>n(36,d=X)),U(t,V,X=>n(23,s=X)),U(t,L,X=>n(25,h=X)),U(t,C,X=>n(33,a=X)),U(t,_,X=>n(26,m=X));let b,P=null,R=[];function N(X){k("paneclick",{event:X}),M(),V.set(null)}function A(X){if(P=b.getBoundingClientRect(),!q||!o||X.button!==0||X.target!==b||!P)return;const{x:ie,y:ge}=rt(X,P);M(),T.set({width:0,height:0,startX:ie,startY:ge,x:ie,y:ge})}function G(X){if(!o||!P||!d)return;const ie=rt(X,P),ge=d.startX??0,K=d.startY??0,we={...d,x:ie.x<ge?ie.x:ge,y:ie.y<K?ie.y:K,width:Math.abs(ie.x-ge),height:Math.abs(ie.y-K)},Ve=R.map(ve=>ve.id),Je=no(R,l).map(ve=>ve.id);R=dr(c,we,[u.x,u.y,u.zoom],a===En.Partial,!0);const Ye=no(R,l).map(ve=>ve.id),Qe=R.map(ve=>ve.id);(Ve.length!==Qe.length||Qe.some(ve=>!Ve.includes(ve)))&&H.update(ve=>ve.map(ro(Qe))),(Je.length!==Ye.length||Ye.some(ve=>!Je.includes(ve)))&&z.update(ve=>ve.map(ro(Ye))),V.set("user"),T.set(we)}function j(X){X.button===0&&(!o&&s==="user"&&X.target===b&&(N==null||N(X)),T.set(null),R.length>0&&V.set("nodes"))}const le=X=>{s==="user"&&V.set(R.length>0?"nodes":null),T.set(null)},Y=X=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){X.preventDefault();return}k("panecontextmenu",{event:X})};function $(X){ci[X?"unshift":"push"](()=>{b=X,n(1,b)})}return t.$$set=X=>{"panOnDrag"in X&&n(20,E=X.panOnDrag),"selectionOnDrag"in X&&n(21,v=X.selectionOnDrag),"$$scope"in X&&n(27,y=X.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&68157440&&n(22,i=m||E),t.$$.dirty[0]&39845888&&n(0,o=h||v&&i!==!0),t.$$.dirty[0]&25165825&&n(2,r=f&&(o||s==="user"))},[o,b,r,g,H,z,F,I,q,T,V,L,C,_,N,A,G,j,le,Y,E,v,i,s,f,h,m,y,w,$]}class qf extends ce{constructor(e){super(),fe(this,e,Zf,Ff,de,{panOnDrag:20,selectionOnDrag:21},null,[-1,-1])}}const Gf=qf;function Uf(t){let e,n;const i=t[3].default,o=Fe(i,t,t[2],null);return{c(){e=Ce("div"),o&&o.c(),this.h()},l(r){e=ze(r,"DIV",{class:!0,style:!0});var s=se(e);o&&o.l(s),s.forEach(O),this.h()},h(){p(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),ae(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){Z(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Ze(o,i,r,r[2],n?Ge(i,r[2],s,null):qe(r[2]),null),(!n||s&1)&&ae(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(D(o,r),n=!0)},o(r){B(o,r),n=!1},d(r){r&&O(e),o&&o.d(r)}}}function Jf(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=He();return U(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Qf extends ce{constructor(e){super(),fe(this,e,Jf,Uf,de,{})}}const jf=Qf;function Vr(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=kc({domNode:t,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=Q(n.snapGrid),c=Q(n.viewport);return{nodes:Q(n.nodes),nodeLookup:Q(n.nodeLookup),edges:Q(n.edges),nodeExtent:Q(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:[0,0],multiSelectionActive:Q(n.multiselectionKeyPressed),domNode:Q(n.domNode),transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:Q(n.autoPanOnNodeDrag),nodesDraggable:Q(n.nodesDraggable),selectNodesOnDrag:Q(n.selectNodesOnDrag),nodeDragThreshold:Q(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,c){if(c.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function lo(t){let e,n,i,o,r,s=`translate(${t[14]}px, ${t[15]}px)`,l,a,u;var c=t[29];function d(f,h){return{props:{data:f[2],id:f[1],selected:f[3],sourcePosition:f[16],targetPosition:f[17],type:f[10],zIndex:f[18],dragging:f[8],dragHandle:f[21],isConnectable:f[6],positionAbsolute:{x:f[12],y:f[13]},width:f[19],height:f[20]}}}return c&&(n=yn(c,d(t)),n.$on("connectstart",t[37]),n.$on("connect",t[38]),n.$on("connectend",t[39])),{c(){e=Ce("div"),n&&ee(n.$$.fragment),this.h()},l(f){e=ze(f,"DIV",{"data-id":!0,class:!0,style:!0});var h=se(e);n&&re(n.$$.fragment,h),h.forEach(O),this.h()},h(){p(e,"data-id",t[1]),p(e,"class",i=Pe(["svelte-flow__node",`svelte-flow__node-${t[28]}`,t[23]])),p(e,"style",o=(t[9]??"")+"; "+(t[19]?`width:${t[19]}px;`:"")+" "+(t[20]?`height:${t[20]}px;`:"")),he(e,"dragging",t[8]),he(e,"selected",t[3]),he(e,"draggable",t[4]),he(e,"connectable",t[6]),he(e,"selectable",t[5]),he(e,"nopan",t[4]),he(e,"parent",t[11]),ae(e,"z-index",t[18]),ae(e,"transform",s),ae(e,"visibility",t[22]?"visible":"hidden")},m(f,h){Z(f,e,h),n&&te(n,e,null),t[43](e),l=!0,a||(u=[De(r=Vr.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[21],noDragClass:"nodrag",onNodeMouseDown:t[27],onDrag:t[40],onDragStart:t[41],onDragStop:t[42],store:t[25]})),ke(e,"click",t[31]),ke(e,"mouseenter",t[44]),ke(e,"mouseleave",t[45]),ke(e,"mousemove",t[46]),ke(e,"contextmenu",t[47])],a=!0)},p(f,h){if(c!==(c=f[29])){if(n){Ae();const g=n;B(g.$$.fragment,1,0,()=>{ne(g,1)}),Te()}c?(n=yn(c,d(f)),n.$on("connectstart",f[37]),n.$on("connect",f[38]),n.$on("connectend",f[39]),ee(n.$$.fragment),D(n.$$.fragment,1),te(n,e,null)):n=null}else if(c){const g={};h[0]&4&&(g.data=f[2]),h[0]&2&&(g.id=f[1]),h[0]&8&&(g.selected=f[3]),h[0]&65536&&(g.sourcePosition=f[16]),h[0]&131072&&(g.targetPosition=f[17]),h[0]&1024&&(g.type=f[10]),h[0]&262144&&(g.zIndex=f[18]),h[0]&256&&(g.dragging=f[8]),h[0]&2097152&&(g.dragHandle=f[21]),h[0]&64&&(g.isConnectable=f[6]),h[0]&12288&&(g.positionAbsolute={x:f[12],y:f[13]}),h[0]&524288&&(g.width=f[19]),h[0]&1048576&&(g.height=f[20]),n.$set(g)}(!l||h[0]&2)&&p(e,"data-id",f[1]),(!l||h[0]&8388608&&i!==(i=Pe(["svelte-flow__node",`svelte-flow__node-${f[28]}`,f[23]])))&&p(e,"class",i),(!l||h[0]&1573376&&o!==(o=(f[9]??"")+"; "+(f[19]?`width:${f[19]}px;`:"")+" "+(f[20]?`height:${f[20]}px;`:"")))&&p(e,"style",o),r&&Ne(r.update)&&h[0]&2097186&&r.update.call(null,{nodeId:f[1],isSelectable:f[5],disabled:!1,handleSelector:f[21],noDragClass:"nodrag",onNodeMouseDown:f[27],onDrag:f[40],onDragStart:f[41],onDragStop:f[42],store:f[25]}),(!l||h[0]&8388864)&&he(e,"dragging",f[8]),(!l||h[0]&8388616)&&he(e,"selected",f[3]),(!l||h[0]&8388624)&&he(e,"draggable",f[4]),(!l||h[0]&8388672)&&he(e,"connectable",f[6]),(!l||h[0]&8388640)&&he(e,"selectable",f[5]),(!l||h[0]&8388624)&&he(e,"nopan",f[4]),(!l||h[0]&8390656)&&he(e,"parent",f[11]);const m=h[0]&1573376;(h[0]&1835520||m)&&ae(e,"z-index",f[18]),(h[0]&1622528&&s!==(s=`translate(${f[14]}px, ${f[15]}px)`)||m)&&ae(e,"transform",s),(h[0]&5767680||m)&&ae(e,"visibility",f[22]?"visible":"hidden")},i(f){l||(n&&D(n.$$.fragment,f),l=!0)},o(f){n&&B(n.$$.fragment,f),l=!1},d(f){f&&O(e),n&&ne(n),t[43](null),a=!1,ct(u)}}}function xf(t){let e,n,i=!t[7]&&lo(t);return{c(){i&&i.c(),e=me()},l(o){i&&i.l(o),e=me()},m(o,r){i&&i.m(o,r),Z(o,e,r),n=!0},p(o,r){o[7]?i&&(Ae(),B(i,1,1,()=>{i=null}),Te()):i?(i.p(o,r),r[0]&128&&D(i,1)):(i=lo(o),i.c(),D(i,1),i.m(e.parentNode,e))},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function $f(t,e,n){let i,{node:o}=e,{id:r}=e,{data:s={}}=e,{selected:l=!1}=e,{draggable:a=void 0}=e,{selectable:u=void 0}=e,{connectable:c=!0}=e,{hidden:d=!1}=e,{dragging:f=!1}=e,{resizeObserver:h=null}=e,{style:m=void 0}=e,{type:g="default"}=e,{isParent:w=!1}=e,{positionX:y}=e,{positionY:E}=e,{positionOriginX:v}=e,{positionOriginY:k}=e,{sourcePosition:H=void 0}=e,{targetPosition:z=void 0}=e,{zIndex:F}=e,{width:I=void 0}=e,{height:q=void 0}=e,{dragHandle:T=void 0}=e,{initialized:V=!1}=e,{class:L=""}=e;const C=He(),{nodeTypes:_,nodeDragThreshold:M,selectNodesOnDrag:b,handleNodeSelection:P,updateNodeDimensions:R}=C;U(t,_,W=>n(48,i=W));const N=g||"default";let A,G;!!i[N]||console.warn("003",tn.error003(g));const le=i[N]||Or,Y=Qt(),$=oe(c);let X,ie,ge;ei("svelteflow__node_id",r),ei("svelteflow__node_connectable",$);function K(W){u&&(!Q(b)||!a||Q(M)>0)&&P(r),Y("nodeclick",{node:o,event:W})}function we(W){x.call(this,t,W)}function Ve(W){x.call(this,t,W)}function Je(W){x.call(this,t,W)}const Ye=(W,It,st,nt)=>{Y("nodedrag",{event:W,node:st,nodes:nt})},Qe=(W,It,st,nt)=>{Y("nodedragstart",{event:W,node:st,nodes:nt})},ve=(W,It,st,nt)=>{Y("nodedragstop",{event:W,node:st,nodes:nt})};function vt(W){ci[W?"unshift":"push"](()=>{A=W,n(24,A)})}const ft=W=>Y("nodemouseenter",{node:o,event:W}),dt=W=>Y("nodemouseleave",{node:o,event:W}),ht=W=>Y("nodemousemove",{node:o,event:W}),J=W=>Y("nodecontextmenu",{node:o,event:W});return t.$$set=W=>{"node"in W&&n(0,o=W.node),"id"in W&&n(1,r=W.id),"data"in W&&n(2,s=W.data),"selected"in W&&n(3,l=W.selected),"draggable"in W&&n(4,a=W.draggable),"selectable"in W&&n(5,u=W.selectable),"connectable"in W&&n(6,c=W.connectable),"hidden"in W&&n(7,d=W.hidden),"dragging"in W&&n(8,f=W.dragging),"resizeObserver"in W&&n(32,h=W.resizeObserver),"style"in W&&n(9,m=W.style),"type"in W&&n(10,g=W.type),"isParent"in W&&n(11,w=W.isParent),"positionX"in W&&n(12,y=W.positionX),"positionY"in W&&n(13,E=W.positionY),"positionOriginX"in W&&n(14,v=W.positionOriginX),"positionOriginY"in W&&n(15,k=W.positionOriginY),"sourcePosition"in W&&n(16,H=W.sourcePosition),"targetPosition"in W&&n(17,z=W.targetPosition),"zIndex"in W&&n(18,F=W.zIndex),"width"in W&&n(19,I=W.width),"height"in W&&n(20,q=W.height),"dragHandle"in W&&n(21,T=W.dragHandle),"initialized"in W&&n(22,V=W.initialized),"class"in W&&n(23,L=W.class)},t.$$.update=()=>{t.$$.dirty[0]&64&&$.set(!!c),t.$$.dirty[0]&16973826|t.$$.dirty[1]&56&&((X&&N!==X||ie&&H!==ie||ge&&z!==ge)&&requestAnimationFrame(()=>R(new Map([[r,{id:r,nodeElement:A,forceUpdate:!0}]]))),n(34,X=N),n(35,ie=H),n(36,ge=z)),t.$$.dirty[0]&16777216|t.$$.dirty[1]&6&&(A?(h==null||h.observe(A),n(33,G=A)):G&&(h==null||h.unobserve(G)))},[o,r,s,l,a,u,c,d,f,m,g,w,y,E,v,k,H,z,F,I,q,T,V,L,A,C,_,P,N,le,Y,K,h,G,X,ie,ge,we,Ve,Je,Ye,Qe,ve,vt,ft,dt,ht,J]}let ed=class extends ce{constructor(e){super(),fe(this,e,$f,xf,Vo,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:32,style:9,type:10,isParent:11,positionX:12,positionY:13,positionOriginX:14,positionOriginY:15,sourcePosition:16,targetPosition:17,zIndex:18,width:19,height:20,dragHandle:21,initialized:22,class:23},null,[-1,-1])}};const td=ed,{Map:nd}=gl;function so(t,e,n){var r,s,l,a,u,c;const i=t.slice();i[21]=e[n];const o=tc({x:((s=(r=i[21].computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0,y:((a=(l=i[21].computed)==null?void 0:l.positionAbsolute)==null?void 0:a.y)??0,width:((u=i[21].computed)==null?void 0:u.width)??i[21].width??0,height:((c=i[21].computed)==null?void 0:c.height)??i[21].height??0,origin:i[21].origin});return i[22]=o,i}function ao(t,e){var r,s,l,a,u,c,d,f;let n,i,o;return i=new td({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[1]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[2]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[3]&&typeof e[21].connectable>"u"),positionX:((s=(r=e[21].computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0,positionY:((a=(l=e[21].computed)==null?void 0:l.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[22].x??0,positionOriginY:e[22].y??0,isParent:!!((u=e[21][Ee])!=null&&u.isParent),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:((c=e[21][Ee])==null?void 0:c.z)??0,dragHandle:e[21].dragHandle,width:e[21].width??void 0,height:e[21].height??void 0,initialized:!!((d=e[21].computed)!=null&&d.width)&&!!((f=e[21].computed)!=null&&f.height)||!!e[21].width&&!!e[21].height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("connectstart",e[13]),i.$on("connect",e[14]),i.$on("connectend",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=me(),ee(i.$$.fragment),this.h()},l(h){n=me(),re(i.$$.fragment,h),this.h()},h(){this.first=n},m(h,m){Z(h,n,m),te(i,h,m),o=!0},p(h,m){var w,y,E,v,k,H,z,F;e=h;const g={};m&1&&(g.node=e[21]),m&1&&(g.id=e[21].id),m&1&&(g.data=e[21].data),m&1&&(g.selected=!!e[21].selected),m&1&&(g.hidden=!!e[21].hidden),m&3&&(g.draggable=!!(e[21].draggable||e[1]&&typeof e[21].draggable>"u")),m&5&&(g.selectable=!!(e[21].selectable||e[2]&&typeof e[21].selectable>"u")),m&9&&(g.connectable=!!(e[21].connectable||e[3]&&typeof e[21].connectable>"u")),m&1&&(g.positionX=((y=(w=e[21].computed)==null?void 0:w.positionAbsolute)==null?void 0:y.x)??0),m&1&&(g.positionY=((v=(E=e[21].computed)==null?void 0:E.positionAbsolute)==null?void 0:v.y)??0),m&1&&(g.positionOriginX=e[22].x??0),m&1&&(g.positionOriginY=e[22].y??0),m&1&&(g.isParent=!!((k=e[21][Ee])!=null&&k.isParent)),m&1&&(g.style=e[21].style),m&1&&(g.class=e[21].class),m&1&&(g.type=e[21].type??"default"),m&1&&(g.sourcePosition=e[21].sourcePosition),m&1&&(g.targetPosition=e[21].targetPosition),m&1&&(g.dragging=e[21].dragging),m&1&&(g.zIndex=((H=e[21][Ee])==null?void 0:H.z)??0),m&1&&(g.dragHandle=e[21].dragHandle),m&1&&(g.width=e[21].width??void 0),m&1&&(g.height=e[21].height??void 0),m&1&&(g.initialized=!!((z=e[21].computed)!=null&&z.width)&&!!((F=e[21].computed)!=null&&F.height)||!!e[21].width&&!!e[21].height),i.$set(g)},i(h){o||(D(i.$$.fragment,h),o=!0)},o(h){B(i.$$.fragment,h),o=!1},d(h){h&&O(n),ne(i,h)}}}function id(t){let e,n=[],i=new nd,o,r=et(t[0]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=so(t,r,l),u=s(a);i.set(u,n[l]=ao(u,a))}return{c(){e=Ce("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ze(l,"DIV",{class:!0});var a=se(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(O),this.h()},h(){p(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Z(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&271&&(r=et(l[0]),Ae(),n=jt(n,a,s,1,l,r,i,e,xt,ao,null,so),Te())},i(l){if(!o){for(let a=0;a<r.length;a+=1)D(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)B(n[a]);o=!1},d(l){l&&O(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function od(t,e,n){let i,o,r,s;const{visibleNodes:l,nodesDraggable:a,nodesConnectable:u,elementsSelectable:c,updateNodeDimensions:d}=He();U(t,l,I=>n(0,i=I)),U(t,a,I=>n(1,o=I)),U(t,u,I=>n(3,s=I)),U(t,c,I=>n(2,r=I));const f=typeof ResizeObserver>"u"?null:new ResizeObserver(I=>{const q=new Map;I.forEach(T=>{const V=T.target.getAttribute("data-id");q.set(V,{id:V,nodeElement:T.target,forceUpdate:!0})}),d(q)});ol(()=>{f==null||f.disconnect()});function h(I){x.call(this,t,I)}function m(I){x.call(this,t,I)}function g(I){x.call(this,t,I)}function w(I){x.call(this,t,I)}function y(I){x.call(this,t,I)}function E(I){x.call(this,t,I)}function v(I){x.call(this,t,I)}function k(I){x.call(this,t,I)}function H(I){x.call(this,t,I)}function z(I){x.call(this,t,I)}function F(I){x.call(this,t,I)}return[i,o,r,s,l,a,u,c,f,h,m,g,w,y,E,v,k,H,z,F]}class rd extends ce{constructor(e){super(),fe(this,e,od,id,de,{})}}const ld=rd;function uo(t){let e,n,i,o,r,s,l;var a=t[23];function u(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[12],sourceY:c[13],targetX:c[14],targetY:c[15],sourcePosition:c[16],targetPosition:c[17],animated:c[5],selected:c[6],label:c[8],labelStyle:c[9],data:c[3],style:c[4],interactionWidth:c[19],sourceHandleId:c[10],targetHandleId:c[11],markerStart:c[22],markerEnd:c[21]}}}return a&&(n=yn(a,u(t))),{c(){e=ye("g"),n&&ee(n.$$.fragment),this.h()},l(c){e=be(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var d=se(e);n&&re(n.$$.fragment,d),d.forEach(O),this.h()},h(){p(e,"class",i=Pe(["svelte-flow__edge",t[20]])),p(e,"data-id",t[0]),p(e,"aria-label",o=t[18]===null?void 0:t[18]?t[18]:`Edge from ${t[1]} to ${t[2]}`),p(e,"role","img"),he(e,"animated",t[5]),he(e,"selected",t[6])},m(c,d){Z(c,e,d),n&&te(n,e,null),r=!0,s||(l=[ke(e,"click",t[27]),ke(e,"contextmenu",t[28])],s=!0)},p(c,d){if(d[0]&8388608&&a!==(a=c[23])){if(n){Ae();const f=n;B(f.$$.fragment,1,0,()=>{ne(f,1)}),Te()}a?(n=yn(a,u(c)),ee(n.$$.fragment),D(n.$$.fragment,1),te(n,e,null)):n=null}else if(a){const f={};d[0]&1&&(f.id=c[0]),d[0]&2&&(f.source=c[1]),d[0]&4&&(f.target=c[2]),d[0]&4096&&(f.sourceX=c[12]),d[0]&8192&&(f.sourceY=c[13]),d[0]&16384&&(f.targetX=c[14]),d[0]&32768&&(f.targetY=c[15]),d[0]&65536&&(f.sourcePosition=c[16]),d[0]&131072&&(f.targetPosition=c[17]),d[0]&32&&(f.animated=c[5]),d[0]&64&&(f.selected=c[6]),d[0]&256&&(f.label=c[8]),d[0]&512&&(f.labelStyle=c[9]),d[0]&8&&(f.data=c[3]),d[0]&16&&(f.style=c[4]),d[0]&524288&&(f.interactionWidth=c[19]),d[0]&1024&&(f.sourceHandleId=c[10]),d[0]&2048&&(f.targetHandleId=c[11]),d[0]&4194304&&(f.markerStart=c[22]),d[0]&2097152&&(f.markerEnd=c[21]),n.$set(f)}(!r||d[0]&1048576&&i!==(i=Pe(["svelte-flow__edge",c[20]])))&&p(e,"class",i),(!r||d[0]&1)&&p(e,"data-id",c[0]),(!r||d[0]&262150&&o!==(o=c[18]===null?void 0:c[18]?c[18]:`Edge from ${c[1]} to ${c[2]}`))&&p(e,"aria-label",o),(!r||d[0]&1048608)&&he(e,"animated",c[5]),(!r||d[0]&1048640)&&he(e,"selected",c[6])},i(c){r||(n&&D(n.$$.fragment,c),r=!0)},o(c){n&&B(n.$$.fragment,c),r=!1},d(c){c&&O(e),n&&ne(n),s=!1,ct(l)}}}function sd(t){let e,n,i=!t[7]&&uo(t);return{c(){i&&i.c(),e=me()},l(o){i&&i.l(o),e=me()},m(o,r){i&&i.m(o,r),Z(o,e,r),n=!0},p(o,r){o[7]?i&&(Ae(),B(i,1,1,()=>{i=null}),Te()):i?(i.p(o,r),r[0]&128&&D(i,1)):(i=uo(o),i.c(),D(i,1),i.m(e.parentNode,e))},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function ad(t,e,n){let i,o,r,s,l,a,{id:u}=e,{type:c="default"}=e,{source:d=""}=e,{target:f=""}=e,{data:h={}}=e,{style:m=void 0}=e,{animated:g=!1}=e,{selected:w=!1}=e,{selectable:y=!0}=e,{hidden:E=!1}=e,{label:v=void 0}=e,{labelStyle:k=void 0}=e,{markerStart:H=void 0}=e,{markerEnd:z=void 0}=e,{sourceHandle:F=void 0}=e,{targetHandle:I=void 0}=e,{sourceX:q}=e,{sourceY:T}=e,{targetX:V}=e,{targetY:L}=e,{sourcePosition:C}=e,{targetPosition:_}=e,{ariaLabel:M=void 0}=e,{interactionWidth:b=void 0}=e,{class:P=""}=e;const{edges:R,edgeTypes:N,flowId:A,selectionRect:G,selectionRectMode:j,multiselectionKeyPressed:le,addSelectedEdges:Y,unselectNodesAndEdges:$}=He();U(t,R,K=>n(35,s=K)),U(t,N,K=>n(34,a=K)),U(t,A,K=>n(33,l=K));const X=Qt();function ie(K){const we=s.find(Ve=>Ve.id===u);if(!we){console.warn("012",tn.error012(u));return}y&&(G.set(null),j.set(null),we.selected?we.selected&&Q(le)&&$({nodes:[],edges:[we]}):Y([u])),X("edgeclick",{event:K,edge:we})}function ge(K){const we=s.find(Ve=>Ve.id===u);we&&X("edgecontextmenu",{event:K,edge:we})}return t.$$set=K=>{"id"in K&&n(0,u=K.id),"type"in K&&n(29,c=K.type),"source"in K&&n(1,d=K.source),"target"in K&&n(2,f=K.target),"data"in K&&n(3,h=K.data),"style"in K&&n(4,m=K.style),"animated"in K&&n(5,g=K.animated),"selected"in K&&n(6,w=K.selected),"selectable"in K&&n(30,y=K.selectable),"hidden"in K&&n(7,E=K.hidden),"label"in K&&n(8,v=K.label),"labelStyle"in K&&n(9,k=K.labelStyle),"markerStart"in K&&n(31,H=K.markerStart),"markerEnd"in K&&n(32,z=K.markerEnd),"sourceHandle"in K&&n(10,F=K.sourceHandle),"targetHandle"in K&&n(11,I=K.targetHandle),"sourceX"in K&&n(12,q=K.sourceX),"sourceY"in K&&n(13,T=K.sourceY),"targetX"in K&&n(14,V=K.targetX),"targetY"in K&&n(15,L=K.targetY),"sourcePosition"in K&&n(16,C=K.sourcePosition),"targetPosition"in K&&n(17,_=K.targetPosition),"ariaLabel"in K&&n(18,M=K.ariaLabel),"interactionWidth"in K&&n(19,b=K.interactionWidth),"class"in K&&n(20,P=K.class)},t.$$.update=()=>{t.$$.dirty[0]&536870912|t.$$.dirty[1]&8&&n(23,i=a[c]||Ar),t.$$.dirty[1]&5&&n(22,o=H?`url(#${ui(H,l)})`:void 0),t.$$.dirty[1]&6&&n(21,r=z?`url(#${ui(z,l)})`:void 0)},[u,d,f,h,m,g,w,E,v,k,F,I,q,T,V,L,C,_,M,b,P,r,o,i,R,N,A,ie,ge,c,y,H,z,l,a]}class ud extends ce{constructor(e){super(),fe(this,e,ad,sd,Vo,{id:0,type:29,source:1,target:2,data:3,style:4,animated:5,selected:6,selectable:30,hidden:7,label:8,labelStyle:9,markerStart:31,markerEnd:32,sourceHandle:10,targetHandle:11,sourceX:12,sourceY:13,targetX:14,targetY:15,sourcePosition:16,targetPosition:17,ariaLabel:18,interactionWidth:19,class:20},null,[-1,-1])}}const cd=ud;function co(t,e,n){const i=t.slice();return i[2]=e[n],i}function fo(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Me(s,r[l]);return i=new vd({props:s}),{key:t,first:null,c(){n=me(),ee(i.$$.fragment),this.h()},l(l){n=me(),re(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){Z(l,n,a),te(i,l,a),o=!0},p(l,a){e=l;const u=a&1?ut(r,[Ft(e[2])]):{};i.$set(u)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){B(i.$$.fragment,l),o=!1},d(l){l&&O(n),ne(i,l)}}}function fd(t){let e,n=[],i=new Map,o,r=et(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=co(t,r,l),u=s(a);i.set(u,n[l]=fo(u,a))}return{c(){e=ye("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=be(l,"defs",{});var a=se(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(O)},m(l,a){Z(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=et(l[0]),Ae(),n=jt(n,a,s,1,l,r,i,e,xt,fo,null,co),Te())},i(l){if(!o){for(let a=0;a<r.length;a+=1)D(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)B(n[a]);o=!1},d(l){l&&O(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function dd(t,e,n){let i;const{markers:o}=He();return U(t,o,r=>n(0,i=r)),[i,o]}class hd extends ce{constructor(e){super(),fe(this,e,dd,fd,de,{})}}const gd=hd;function md(t){let e;return{c(){e=ye("polyline"),this.h()},l(n){e=be(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),se(e).forEach(O),this.h()},h(){p(e,"stroke",t[6]),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"stroke-width",t[7]),p(e,"fill",t[6]),p(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Z(n,e,i)},p(n,i){i&64&&p(e,"stroke",n[6]),i&128&&p(e,"stroke-width",n[7]),i&64&&p(e,"fill",n[6])},d(n){n&&O(e)}}}function _d(t){let e;return{c(){e=ye("polyline"),this.h()},l(n){e=be(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),se(e).forEach(O),this.h()},h(){p(e,"stroke",t[6]),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"stroke-width",t[7]),p(e,"fill","none"),p(e,"points","-5,-4 0,0 -5,4")},m(n,i){Z(n,e,i)},p(n,i){i&64&&p(e,"stroke",n[6]),i&128&&p(e,"stroke-width",n[7])},d(n){n&&O(e)}}}function yd(t){let e,n,i;function o(l,a){if(l[1]===Mn.Arrow)return _d;if(l[1]===Mn.ArrowClosed)return md}let r=o(t),s=r&&r(t);return{c(){e=ye("marker"),s&&s.c(),this.h()},l(l){e=be(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=se(e);s&&s.l(a),a.forEach(O),this.h()},h(){p(e,"class","svelte-flow__arrowhead"),p(e,"id",t[0]),p(e,"markerWidth",n=`${t[2]}`),p(e,"markerHeight",i=`${t[3]}`),p(e,"viewBox","-10 -10 20 20"),p(e,"markerUnits",t[4]),p(e,"orient",t[5]),p(e,"refX","0"),p(e,"refY","0")},m(l,a){Z(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&p(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&p(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&p(e,"markerHeight",i),a&16&&p(e,"markerUnits",l[4]),a&32&&p(e,"orient",l[5])},i:_e,o:_e,d(l){l&&O(e),s&&s.d()}}}function bd(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:c=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,c=d.strokeWidth)},[i,o,r,s,l,a,u,c]}class wd extends ce{constructor(e){super(),fe(this,e,bd,yd,de,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const vd=wd;function ho(t,e,n){const i=t.slice();return i[8]=e[n],i}function go(t,e,n){const i=t.slice();i[11]=e[n];const o=i[11].type||"default";i[12]=o;const r=!!(i[11].selectable||i[1]&&typeof i[11].selectable>"u");return i[13]=r,i}function mo(t){let e,n;return e=new gd({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function _o(t,e){let n,i,o;return i=new cd({props:{id:e[11].id,source:e[11].source,target:e[11].target,data:e[11].data,style:e[11].style,animated:e[11].animated,selected:e[11].selected,hidden:e[11].hidden,label:e[11].label,labelStyle:e[11].labelStyle,markerStart:e[11].markerStart,markerEnd:e[11].markerEnd,sourceHandle:e[11].sourceHandle,targetHandle:e[11].targetHandle,sourceX:e[11].sourceX,sourceY:e[11].sourceY,targetX:e[11].targetX,targetY:e[11].targetY,sourcePosition:e[11].sourcePosition,targetPosition:e[11].targetPosition,ariaLabel:e[11].ariaLabel,interactionWidth:e[11].interactionWidth,class:e[11].class,type:e[12],selectable:e[13]}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=me(),ee(i.$$.fragment),this.h()},l(r){n=me(),re(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Z(r,n,s),te(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[11].id),s&1&&(l.source=e[11].source),s&1&&(l.target=e[11].target),s&1&&(l.data=e[11].data),s&1&&(l.style=e[11].style),s&1&&(l.animated=e[11].animated),s&1&&(l.selected=e[11].selected),s&1&&(l.hidden=e[11].hidden),s&1&&(l.label=e[11].label),s&1&&(l.labelStyle=e[11].labelStyle),s&1&&(l.markerStart=e[11].markerStart),s&1&&(l.markerEnd=e[11].markerEnd),s&1&&(l.sourceHandle=e[11].sourceHandle),s&1&&(l.targetHandle=e[11].targetHandle),s&1&&(l.sourceX=e[11].sourceX),s&1&&(l.sourceY=e[11].sourceY),s&1&&(l.targetX=e[11].targetX),s&1&&(l.targetY=e[11].targetY),s&1&&(l.sourcePosition=e[11].sourcePosition),s&1&&(l.targetPosition=e[11].targetPosition),s&1&&(l.ariaLabel=e[11].ariaLabel),s&1&&(l.interactionWidth=e[11].interactionWidth),s&1&&(l.class=e[11].class),s&1&&(l.type=e[12]),s&3&&(l.selectable=e[13]),i.$set(l)},i(r){o||(D(i.$$.fragment,r),o=!0)},o(r){B(i.$$.fragment,r),o=!1},d(r){r&&O(n),ne(i,r)}}}function yo(t,e){let n,i,o=[],r=new Map,s,l=e[8].isMaxLevel&&mo(),a=et(e[8].edges);const u=c=>c[11].id;for(let c=0;c<a.length;c+=1){let d=go(e,a,c),f=u(d);r.set(f,o[c]=_o(f,d))}return{key:t,first:null,c(){n=ye("svg"),l&&l.c(),i=ye("g");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){n=be(c,"svg",{style:!0,class:!0});var d=se(n);l&&l.l(d),i=be(d,"g",{});var f=se(i);for(let h=0;h<o.length;h+=1)o[h].l(f);f.forEach(O),d.forEach(O),this.h()},h(){ae(n,"z-index",e[8].level),p(n,"class","svelte-flow__edges svelte-1cxe957"),this.first=n},m(c,d){Z(c,n,d),l&&l.m(n,null),Oe(n,i);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null);s=!0},p(c,d){e=c,e[8].isMaxLevel?l?d&1&&D(l,1):(l=mo(),l.c(),D(l,1),l.m(n,i)):l&&(Ae(),B(l,1,1,()=>{l=null}),Te()),d&3&&(a=et(e[8].edges),Ae(),o=jt(o,d,u,1,e,a,r,i,xt,_o,null,go),Te()),(!s||d&1)&&ae(n,"z-index",e[8].level)},i(c){if(!s){D(l);for(let d=0;d<a.length;d+=1)D(o[d]);s=!0}},o(c){B(l);for(let d=0;d<o.length;d+=1)B(o[d]);s=!1},d(c){c&&O(n),l&&l.d();for(let d=0;d<o.length;d+=1)o[d].d()}}}function kd(t){let e=[],n=new Map,i,o,r=et(t[0]);const s=l=>l[8].level;for(let l=0;l<r.length;l+=1){let a=ho(t,r,l),u=s(a);n.set(u,e[l]=yo(u,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=me()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);i=me()},m(l,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,a);Z(l,i,a),o=!0},p(l,[a]){a&3&&(r=et(l[0]),Ae(),e=jt(e,a,s,1,l,r,n,i.parentNode,xt,yo,i,ho),Te())},i(l){if(!o){for(let a=0;a<r.length;a+=1)D(e[a]);o=!0}},o(l){for(let a=0;a<e.length;a+=1)B(e[a]);o=!1},d(l){l&&O(i);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}function pd(t,e,n){let i,o,{defaultEdgeOptions:r}=e;const{elementsSelectable:s,edgeTree:l,edges:{setDefaultOptions:a}}=He();U(t,s,d=>n(1,o=d)),U(t,l,d=>n(0,i=d)),Io(()=>{r&&a(r)});function u(d){x.call(this,t,d)}function c(d){x.call(this,t,d)}return t.$$set=d=>{"defaultEdgeOptions"in d&&n(4,r=d.defaultEdgeOptions)},[i,o,s,l,r,u,c]}class Sd extends ce{constructor(e){super(),fe(this,e,pd,kd,de,{defaultEdgeOptions:4})}}const Ed=Sd;function bo(t){let e;return{c(){e=Ce("div"),this.h()},l(n){e=ze(n,"DIV",{class:!0}),se(e).forEach(O),this.h()},h(){p(e,"class","svelte-flow__selection svelte-1iugwpu"),ae(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),ae(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),ae(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Z(n,e,i)},p(n,i){i&4&&ae(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&ae(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&ae(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&O(e)}}}function Md(t){let e,n=t[4]&&bo(t);return{c(){n&&n.c(),e=me()},l(i){n&&n.l(i),e=me()},m(i,o){n&&n.m(i,o),Z(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=bo(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:_e,o:_e,d(i){i&&O(e),n&&n.d(i)}}}function Cd(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class zd extends ce{constructor(e){super(),fe(this,e,Cd,Md,de,{x:0,y:1,width:2,height:3,isVisible:4})}}const Ir=zd;function Pd(t){var i,o,r,s;let e,n;return e=new Ir({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ee(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,a){te(e,l,a),n=!0},p(l,[a]){var c,d,f,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(c=l[0])==null?void 0:c.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(f=l[0])==null?void 0:f.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){ne(e,l)}}}function Nd(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=He();return U(t,r,l=>n(0,i=l)),U(t,s,l=>n(1,o=l)),[i,o,r,s]}class Od extends ce{constructor(e){super(),fe(this,e,Nd,Pd,de,{})}}const Ad=Od;function wo(t){let e,n,i,o,r;return n=new Ir({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Ce("div"),ee(n.$$.fragment),this.h()},l(s){e=ze(s,"DIV",{class:!0,style:!0});var l=se(e);re(n.$$.fragment,l),l.forEach(O),this.h()},h(){p(e,"class","selection-wrapper nopan svelte-5pxri"),ae(e,"width",t[1].width+"px"),ae(e,"height",t[1].height+"px"),ae(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)")},m(s,l){Z(s,e,l),te(n,e,null),i=!0,o||(r=[De(Vr.call(null,e,{disabled:!1,store:t[3]})),ke(e,"contextmenu",t[6]),ke(e,"click",t[7])],o=!0)},p(s,l){(!i||l&2)&&ae(e,"width",s[1].width+"px"),(!i||l&2)&&ae(e,"height",s[1].height+"px"),(!i||l&2)&&ae(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(D(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&O(e),ne(n),o=!1,ct(r)}}}function Td(t){let e,n,i=t[0]&&t[2]==="nodes"&&wo(t);return{c(){i&&i.c(),e=me()},l(o){i&&i.l(o),e=me()},m(o,r){i&&i.m(o,r),Z(o,e,r),n=!0},p(o,[r]){o[0]&&o[2]==="nodes"?i?(i.p(o,r),r&5&&D(i,1)):(i=wo(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Ae(),B(i,1,1,()=>{i=null}),Te())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Hd(t,e,n){let i,o,r,s;const l=He(),{selectionRectMode:a,nodes:u}=l;U(t,a,h=>n(2,s=h)),U(t,u,h=>n(8,r=h));const c=Qt();function d(h){c("selectioncontextmenu",{nodes:i,event:h})}function f(h){c("selectionclick",{nodes:i,event:h})}return t.$$.update=()=>{t.$$.dirty&256&&n(0,i=r.filter(h=>h.selected)),t.$$.dirty&1&&n(1,o=nn(i))},[i,o,s,l,a,u,d,f,r]}class Dd extends ce{constructor(e){super(),fe(this,e,Hd,Td,de,{})}}const Vd=Dd;function je(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const c={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:f,callback:h,preventDefault:m,enabled:g}=c;if(g){if(d.length&&!(Array.isArray(d)?d:[d]).map(E=>typeof E=="string"?[E]:E).some(E=>E.every(v=>a[v])))continue;if(s.key===f){m&&s.preventDefault();const w={node:t,trigger:c};t.dispatchEvent(new CustomEvent("shortcut",{detail:w})),h==null||h(w)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Id(t){let e,n,i,o,r,s,l,a,u,c,d,f;return{c:_e,l:_e,m(h,m){d||(f=[De(e=je.call(null,window,{trigger:[{...t[4],callback:t[15]}],type:"keydown"})),De(n=je.call(null,window,{trigger:[{...t[4],callback:t[16]}],type:"keyup"})),De(i=je.call(null,window,{trigger:[{...t[3],callback:t[17]}],type:"keydown"})),De(o=je.call(null,window,{trigger:[{...t[3],callback:t[18]}],type:"keyup"})),De(r=je.call(null,window,{trigger:[{...t[2],callback:t[19]}],type:"keydown"})),De(s=je.call(null,window,{trigger:[{...t[2],callback:t[20]}],type:"keyup"})),De(l=je.call(null,window,{trigger:[{...t[1],callback:t[21]}],type:"keydown"})),De(a=je.call(null,window,{trigger:[{...t[1],callback:t[22]}],type:"keyup"})),De(u=je.call(null,window,{trigger:[{...t[0],callback:t[23]}],type:"keydown"})),De(c=je.call(null,window,{trigger:[{...t[0],callback:t[24]}],type:"keyup"}))],d=!0)},p(h,[m]){e&&Ne(e.update)&&m&16&&e.update.call(null,{trigger:[{...h[4],callback:h[15]}],type:"keydown"}),n&&Ne(n.update)&&m&16&&n.update.call(null,{trigger:[{...h[4],callback:h[16]}],type:"keyup"}),i&&Ne(i.update)&&m&8&&i.update.call(null,{trigger:[{...h[3],callback:h[17]}],type:"keydown"}),o&&Ne(o.update)&&m&8&&o.update.call(null,{trigger:[{...h[3],callback:h[18]}],type:"keyup"}),r&&Ne(r.update)&&m&4&&r.update.call(null,{trigger:[{...h[2],callback:h[19]}],type:"keydown"}),s&&Ne(s.update)&&m&4&&s.update.call(null,{trigger:[{...h[2],callback:h[20]}],type:"keyup"}),l&&Ne(l.update)&&m&2&&l.update.call(null,{trigger:[{...h[1],callback:h[21]}],type:"keydown"}),a&&Ne(a.update)&&m&2&&a.update.call(null,{trigger:[{...h[1],callback:h[22]}],type:"keyup"}),u&&Ne(u.update)&&m&1&&u.update.call(null,{trigger:[{...h[0],callback:h[23]}],type:"keydown"}),c&&Ne(c.update)&&m&1&&c.update.call(null,{trigger:[{...h[0],callback:h[24]}],type:"keyup"})},i:_e,o:_e,d(h){d=!1,ct(f)}}}function Rr(t){return typeof t=="object"}function Xt(t){return Rr(t)?t.modifier||[]:[]}function Yt(t){return t==null?"":Rr(t)?t.key:t}function Rd(t,e,n){let i,o,r,s,l,{selectionKey:a="Shift"}=e,{multiSelectionKey:u=Pn()?"Meta":"Control"}=e,{deleteKey:c="Backspace"}=e,{panActivationKey:d=" "}=e,{zoomActivationKey:f=Pn()?"Meta":"Control"}=e;const{selectionKeyPressed:h,multiselectionKeyPressed:m,deleteKeyPressed:g,panActivationKeyPressed:w,zoomActivationKeyPressed:y}=He(),E=()=>i.key&&h.set(!0),v=()=>i.key&&h.set(!1),k=()=>o.key&&m.set(!0),H=()=>o.key&&m.set(!1),z=()=>r.key&&g.set(!0),F=()=>r.key&&g.set(!1),I=()=>s.key&&w.set(!0),q=()=>s.key&&w.set(!1),T=()=>l.key&&y.set(!0),V=()=>l.key&&y.set(!1);return t.$$set=L=>{"selectionKey"in L&&n(10,a=L.selectionKey),"multiSelectionKey"in L&&n(11,u=L.multiSelectionKey),"deleteKey"in L&&n(12,c=L.deleteKey),"panActivationKey"in L&&n(13,d=L.panActivationKey),"zoomActivationKey"in L&&n(14,f=L.zoomActivationKey)},t.$$.update=()=>{t.$$.dirty&1024&&n(4,i={key:Yt(a),modifier:Xt(a)}),t.$$.dirty&2048&&n(3,o={key:Yt(u),modifier:Xt(u)}),t.$$.dirty&4096&&n(2,r={key:Yt(c),modifier:Xt(c)}),t.$$.dirty&8192&&n(1,s={key:Yt(d),modifier:Xt(d)}),t.$$.dirty&16384&&n(0,l={key:Yt(f),modifier:Xt(f)})},[l,s,r,o,i,h,m,g,w,y,a,u,c,d,f,E,v,k,H,z,F,I,q,T,V]}class Bd extends ce{constructor(e){super(),fe(this,e,Rd,Id,de,{selectionKey:10,multiSelectionKey:11,deleteKey:12,panActivationKey:13,zoomActivationKey:14})}}const Xd=Bd,Yd=t=>({}),vo=t=>({});function ko(t){let e,n,i,o;const r=t[10].connectionLine,s=Fe(r,t,t[9],vo);let l=!t[2]&&po(t);return{c(){e=ye("svg"),n=ye("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=be(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=se(e);n=be(u,"g",{class:!0});var c=se(n);s&&s.l(c),l&&l.l(c),c.forEach(O),u.forEach(O),this.h()},h(){p(n,"class",i=Pe(["svelte-flow__connection",t[3].status])),p(e,"width",t[4]),p(e,"height",t[5]),p(e,"class","svelte-flow__connectionline"),p(e,"style",t[0])},m(a,u){Z(a,e,u),Oe(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&512)&&Ze(s,r,a,a[9],o?Ge(r,a[9],u,Yd):qe(a[9]),vo),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=po(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Pe(["svelte-flow__connection",a[3].status])))&&p(n,"class",i),(!o||u&16)&&p(e,"width",a[4]),(!o||u&32)&&p(e,"height",a[5]),(!o||u&1)&&p(e,"style",a[0])},i(a){o||(D(s,a),o=!0)},o(a){B(s,a),o=!1},d(a){a&&O(e),s&&s.d(a),l&&l.d()}}}function po(t){let e,n;return{c(){e=ye("path"),this.h()},l(i){e=be(i,"path",{d:!0,style:!0,fill:!0,class:!0}),se(e).forEach(O),this.h()},h(){p(e,"d",n=t[3].path),p(e,"style",t[1]),p(e,"fill","none"),p(e,"class","svelte-flow__connection-path")},m(i,o){Z(i,e,o)},p(i,o){o&8&&n!==(n=i[3].path)&&p(e,"d",n),o&2&&p(e,"style",i[1])},d(i){i&&O(e)}}}function Ld(t){let e,n,i=t[3].path&&ko(t);return{c(){i&&i.c(),e=me()},l(o){i&&i.l(o),e=me()},m(o,r){i&&i.m(o,r),Z(o,e,r),n=!0},p(o,[r]){o[3].path?i?(i.p(o,r),r&8&&D(i,1)):(i=ko(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Ae(),B(i,1,1,()=>{i=null}),Te())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Kd(t,e,n){let i,o,r,{$$slots:s={},$$scope:l}=e,{containerStyle:a=""}=e,{style:u=""}=e,{isCustomComponent:c=!1}=e;const{width:d,height:f,connection:h}=He();return U(t,d,m=>n(4,o=m)),U(t,f,m=>n(5,r=m)),U(t,h,m=>n(3,i=m)),t.$$set=m=>{"containerStyle"in m&&n(0,a=m.containerStyle),"style"in m&&n(1,u=m.style),"isCustomComponent"in m&&n(2,c=m.isCustomComponent),"$$scope"in m&&n(9,l=m.$$scope)},[a,u,c,i,o,r,d,f,h,l,s]}class Wd extends ce{constructor(e){super(),fe(this,e,Kd,Ld,de,{containerStyle:0,style:1,isCustomComponent:2})}}const Fd=Wd;function Zd(t){let e,n,i;const o=t[6].default,r=Fe(o,t,t[5],null);let s=[{class:n=Pe(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],l={};for(let a=0;a<s.length;a+=1)l=Me(l,s[a]);return{c(){e=Ce("div"),r&&r.c(),this.h()},l(a){e=ze(a,"DIV",{class:!0,style:!0});var u=se(e);r&&r.l(u),u.forEach(O),this.h()},h(){zt(e,l)},m(a,u){Z(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&32)&&Ze(r,o,a,a[5],i?Ge(o,a[5],u,null):qe(a[5]),null),zt(e,l=ut(s,[(!i||u&6&&n!==(n=Pe(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&8&&a[3]]))},i(a){i||(D(r,a),i=!0)},o(a){B(r,a),i=!1},d(a){a&&O(e),r&&r.d(a)}}}function qd(t,e,n){let i;const o=["position","style","class"];let r=Pt(e,o),{$$slots:s={},$$scope:l}=e,{position:a="top-right"}=e,{style:u=void 0}=e,{class:c=void 0}=e;return t.$$set=d=>{e=Me(Me({},e),We(d)),n(3,r=Pt(e,o)),"position"in d&&n(4,a=d.position),"style"in d&&n(0,u=d.style),"class"in d&&n(1,c=d.class),"$$scope"in d&&n(5,l=d.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[u,c,i,r,a,l,s]}class Gd extends ce{constructor(e){super(),fe(this,e,qd,Zd,de,{position:4,style:0,class:1})}}const pi=Gd;function So(t){let e,n;return e=new pi({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Ud]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Ud(t){let e,n="Svelte Flow";return{c(){e=Ce("a"),e.textContent=n,this.h()},l(i){e=ze(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),rl(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){p(e,"href","https://svelteflow.dev"),p(e,"target","_blank"),p(e,"rel","noopener noreferrer"),p(e,"aria-label","Svelte Flow attribution")},m(i,o){Z(i,e,o)},p:_e,d(i){i&&O(e)}}}function Jd(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&So(t);return{c(){i&&i.c(),e=me()},l(r){i&&i.l(r),e=me()},m(r,s){i&&i.m(r,s),Z(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ae(),B(i,1,1,()=>{i=null}),Te()):i?(i.p(r,s),s&1&&D(i,1)):(i=So(r),i.c(),D(i,1),i.m(e.parentNode,e))},i(r){n||(D(i),n=!0)},o(r){B(i),n=!1},d(r){r&&O(e),i&&i.d(r)}}}function Qd(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class jd extends ce{constructor(e){super(),fe(this,e,Qd,Jd,de,{proOptions:0,position:1})}}const xd=jd;function Eo(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r)}const $d=t=>Object.keys(t);function eh(t,e){$d(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function th(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nh(t="light"){return gt("light",n=>{if(t!=="system"){n(t);return}const i=th(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const ih=t=>({}),Mo=t=>({slot:"connectionLine"});function oh(t){let e;const n=t[61].connectionLine,i=Fe(n,t,t[82],Mo);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[2]&1048576)&&Ze(i,n,o,o[82],e?Ge(n,o[82],r,ih):qe(o[82]),Mo)},i(o){e||(D(i,o),e=!0)},o(o){B(i,o),e=!1},d(o){i&&i.d(o)}}}function rh(t){let e,n,i,o,r,s,l,a,u,c;return e=new Ed({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[64]),e.$on("edgecontextmenu",t[65]),i=new Fd({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[30].connectionLine,$$slots:{connectionLine:[oh]},$$scope:{ctx:t}}}),l=new ld({}),l.$on("nodeclick",t[66]),l.$on("nodemouseenter",t[67]),l.$on("nodemousemove",t[68]),l.$on("nodemouseleave",t[69]),l.$on("connectstart",t[70]),l.$on("connect",t[71]),l.$on("connectend",t[72]),l.$on("nodedragstart",t[73]),l.$on("nodedrag",t[74]),l.$on("nodedragstop",t[75]),l.$on("nodecontextmenu",t[76]),u=new Vd({}),u.$on("selectionclick",t[77]),u.$on("selectioncontextmenu",t[78]),{c(){ee(e.$$.fragment),n=pe(),ee(i.$$.fragment),o=pe(),r=Ce("div"),s=pe(),ee(l.$$.fragment),a=pe(),ee(u.$$.fragment),this.h()},l(d){re(e.$$.fragment,d),n=Se(d),re(i.$$.fragment,d),o=Se(d),r=ze(d,"DIV",{class:!0}),se(r).forEach(O),s=Se(d),re(l.$$.fragment,d),a=Se(d),re(u.$$.fragment,d),this.h()},h(){p(r,"class","svelte-flow__edgelabel-renderer")},m(d,f){te(e,d,f),Z(d,n,f),te(i,d,f),Z(d,o,f),Z(d,r,f),Z(d,s,f),te(l,d,f),Z(d,a,f),te(u,d,f),c=!0},p(d,f){const h={};f[0]&2097152&&(h.defaultEdgeOptions=d[21]),e.$set(h);const m={};f[0]&128&&(m.containerStyle=d[7]),f[0]&64&&(m.style=d[6]),f[0]&1073741824&&(m.isCustomComponent=d[30].connectionLine),f[2]&1048576&&(m.$$scope={dirty:f,ctx:d}),i.$set(m)},i(d){c||(D(e.$$.fragment,d),D(i.$$.fragment,d),D(l.$$.fragment,d),D(u.$$.fragment,d),c=!0)},o(d){B(e.$$.fragment,d),B(i.$$.fragment,d),B(l.$$.fragment,d),B(u.$$.fragment,d),c=!1},d(d){d&&(O(n),O(o),O(r),O(s),O(a)),ne(e,d),ne(i,d),ne(l,d),ne(u,d)}}}function lh(t){let e,n,i,o;return e=new jf({props:{$$slots:{default:[rh]},$$scope:{ctx:t}}}),i=new Ad({}),{c(){ee(e.$$.fragment),n=pe(),ee(i.$$.fragment)},l(r){re(e.$$.fragment,r),n=Se(r),re(i.$$.fragment,r)},m(r,s){te(e,r,s),Z(r,n,s),te(i,r,s),o=!0},p(r,s){const l={};s[0]&1075839168|s[2]&1048576&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(D(e.$$.fragment,r),D(i.$$.fragment,r),o=!0)},o(r){B(e.$$.fragment,r),B(i.$$.fragment,r),o=!1},d(r){r&&O(n),ne(e,r),ne(i,r)}}}function sh(t){let e,n;return e=new Gf({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[lh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[79]),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&1075839168|o[2]&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function ah(t){let e,n,i,o,r,s,l,a,u,c,d,f;n=new Xd({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Wf({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?$e.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[sh]},$$scope:{ctx:t}}}),s=new xd({props:{proOptions:t[20],position:t[19]}});const h=t[61].default,m=Fe(h,t,t[82],null);let g=[{style:t[22]},{class:a=Pe(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[29],{role:"application"}],w={};for(let y=0;y<g.length;y+=1)w=Me(w,g[y]);return{c(){e=Ce("div"),ee(n.$$.fragment),i=pe(),ee(o.$$.fragment),r=pe(),ee(s.$$.fragment),l=pe(),m&&m.c(),this.h()},l(y){e=ze(y,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var E=se(e);re(n.$$.fragment,E),i=Se(E),re(o.$$.fragment,E),r=Se(E),re(s.$$.fragment,E),l=Se(E),m&&m.l(E),E.forEach(O),this.h()},h(){zt(e,w),ll(()=>t[81].call(e)),he(e,"svelte-12wlba6",!0)},m(y,E){Z(y,e,E),te(n,e,null),Oe(e,i),te(o,e,null),Oe(e,r),te(s,e,null),Oe(e,l),m&&m.m(e,null),t[80](e),u=sl(e,t[81].bind(e)),c=!0,d||(f=[ke(e,"dragover",t[62]),ke(e,"drop",t[63])],d=!0)},p(y,E){const v={};E[0]&2&&(v.selectionKey=y[1]),E[0]&32&&(v.deleteKey=y[5]),E[0]&4&&(v.panActivationKey=y[2]),E[0]&8&&(v.multiSelectionKey=y[3]),E[0]&16&&(v.zoomActivationKey=y[4]),n.$set(v);const k={};E[0]&1&&(k.initialViewport=y[0]),E[0]&256&&(k.onMoveStart=y[8]),E[0]&512&&(k.onMove=y[9]),E[0]&1024&&(k.onMoveEnd=y[10]),E[0]&2048&&(k.panOnScrollMode=y[11]===void 0?$e.Free:y[11]),E[0]&4096&&(k.preventScrolling=y[12]===void 0?!0:y[12]),E[0]&8192&&(k.zoomOnScroll=y[13]===void 0?!0:y[13]),E[0]&16384&&(k.zoomOnDoubleClick=y[14]===void 0?!0:y[14]),E[0]&32768&&(k.zoomOnPinch=y[15]===void 0?!0:y[15]),E[0]&65536&&(k.panOnScroll=y[16]===void 0?!1:y[16]),E[0]&131072&&(k.panOnDrag=y[17]===void 0?!0:y[17]),E[0]&1076232384|E[2]&1048576&&(k.$$scope={dirty:E,ctx:y}),o.$set(k);const H={};E[0]&1048576&&(H.proOptions=y[20]),E[0]&524288&&(H.position=y[19]),s.$set(H),m&&m.p&&(!c||E[2]&1048576)&&Ze(m,h,y,y[82],c?Ge(h,y[82],E,null):qe(y[82]),null),zt(e,w=ut(g,[(!c||E[0]&4194304)&&{style:y[22]},(!c||E[0]&276824064&&a!==(a=Pe(["svelte-flow",y[23],y[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},E[0]&536870912&&y[29],{role:"application"}])),he(e,"svelte-12wlba6",!0)},i(y){c||(D(n.$$.fragment,y),D(o.$$.fragment,y),D(s.$$.fragment,y),D(m,y),c=!0)},o(y){B(n.$$.fragment,y),B(o.$$.fragment,y),B(s.$$.fragment,y),B(m,y),c=!1},d(y){y&&O(e),ne(n),ne(o),ne(s),m&&m.d(y),t[80](null),u(),d=!1,ct(f)}}}function uh(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","defaultMarkerColor","style","class"];let r=Pt(e,o),s,l=_e,a=()=>(l(),l=cl(i,S=>n(28,s=S)),i);t.$$.on_destroy.push(()=>l());let{$$slots:u={},$$scope:c}=e;const d=al(u);let{id:f="1"}=e,{nodes:h}=e,{edges:m}=e,{fitView:g=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:y=void 0}=e,{maxZoom:E=void 0}=e,{initialViewport:v={x:0,y:0,zoom:1}}=e,{viewport:k=void 0}=e,{nodeTypes:H=void 0}=e,{edgeTypes:z=void 0}=e,{selectionKey:F=void 0}=e,{selectionMode:I=void 0}=e,{panActivationKey:q=void 0}=e,{multiSelectionKey:T=void 0}=e,{zoomActivationKey:V=void 0}=e,{nodesDraggable:L=void 0}=e,{nodesConnectable:C=void 0}=e,{nodeDragThreshold:_=void 0}=e,{elementsSelectable:M=void 0}=e,{snapGrid:b=void 0}=e,{deleteKey:P=void 0}=e,{connectionRadius:R=void 0}=e,{connectionLineType:N=void 0}=e,{connectionMode:A=bt.Strict}=e,{connectionLineStyle:G=""}=e,{connectionLineContainerStyle:j=""}=e,{onMoveStart:le=void 0}=e,{onMove:Y=void 0}=e,{onMoveEnd:$=void 0}=e,{isValidConnection:X=void 0}=e,{translateExtent:ie=void 0}=e,{onlyRenderVisibleElements:ge=void 0}=e,{panOnScrollMode:K=$e.Free}=e,{preventScrolling:we=!0}=e,{zoomOnScroll:Ve=!0}=e,{zoomOnDoubleClick:Je=!0}=e,{zoomOnPinch:Ye=!0}=e,{panOnScroll:Qe=!1}=e,{panOnDrag:ve=!0}=e,{selectionOnDrag:vt=void 0}=e,{autoPanOnConnect:ft=!0}=e,{autoPanOnNodeDrag:dt=!0}=e,{onerror:ht=void 0}=e,{ondelete:J=void 0}=e,{attributionPosition:W=void 0}=e,{proOptions:It=void 0}=e,{defaultEdgeOptions:st=void 0}=e,{width:nt=void 0}=e,{height:Bn=void 0}=e,{colorMode:Xn="light"}=e,{defaultMarkerColor:Yn="#b1b1b7"}=e,{style:Si=void 0}=e,{class:Ei=void 0}=e,on,kt,pt;const Ie=ul(ki)?He():Bf({nodes:Q(h),edges:Q(m),width:nt,height:Bn,fitView:g});Io(()=>(Ie.width.set(kt),Ie.height.set(pt),Ie.domNode.set(on),Ie.syncNodeStores(h),Ie.syncEdgeStores(m),Ie.syncViewport(k),g!==void 0&&Ie.fitViewOnInit.set(g),w&&Ie.fitViewOptions.set(w),Eo(Ie,{nodeTypes:H,edgeTypes:z,minZoom:y,maxZoom:E,translateExtent:ie}),()=>{Ie.reset()}));function Br(S){x.call(this,t,S)}function Xr(S){x.call(this,t,S)}function Yr(S){x.call(this,t,S)}function Lr(S){x.call(this,t,S)}function Kr(S){x.call(this,t,S)}function Wr(S){x.call(this,t,S)}function Fr(S){x.call(this,t,S)}function Zr(S){x.call(this,t,S)}function qr(S){x.call(this,t,S)}function Gr(S){x.call(this,t,S)}function Ur(S){x.call(this,t,S)}function Jr(S){x.call(this,t,S)}function Qr(S){x.call(this,t,S)}function jr(S){x.call(this,t,S)}function xr(S){x.call(this,t,S)}function $r(S){x.call(this,t,S)}function el(S){x.call(this,t,S)}function tl(S){x.call(this,t,S)}function nl(S){ci[S?"unshift":"push"](()=>{on=S,n(26,on)})}function il(){kt=this.clientWidth,pt=this.clientHeight,n(24,kt),n(25,pt)}return t.$$set=S=>{e=Me(Me({},e),We(S)),n(29,r=Pt(e,o)),"id"in S&&n(31,f=S.id),"nodes"in S&&n(32,h=S.nodes),"edges"in S&&n(33,m=S.edges),"fitView"in S&&n(34,g=S.fitView),"fitViewOptions"in S&&n(35,w=S.fitViewOptions),"minZoom"in S&&n(36,y=S.minZoom),"maxZoom"in S&&n(37,E=S.maxZoom),"initialViewport"in S&&n(0,v=S.initialViewport),"viewport"in S&&n(38,k=S.viewport),"nodeTypes"in S&&n(39,H=S.nodeTypes),"edgeTypes"in S&&n(40,z=S.edgeTypes),"selectionKey"in S&&n(1,F=S.selectionKey),"selectionMode"in S&&n(41,I=S.selectionMode),"panActivationKey"in S&&n(2,q=S.panActivationKey),"multiSelectionKey"in S&&n(3,T=S.multiSelectionKey),"zoomActivationKey"in S&&n(4,V=S.zoomActivationKey),"nodesDraggable"in S&&n(42,L=S.nodesDraggable),"nodesConnectable"in S&&n(43,C=S.nodesConnectable),"nodeDragThreshold"in S&&n(44,_=S.nodeDragThreshold),"elementsSelectable"in S&&n(45,M=S.elementsSelectable),"snapGrid"in S&&n(46,b=S.snapGrid),"deleteKey"in S&&n(5,P=S.deleteKey),"connectionRadius"in S&&n(47,R=S.connectionRadius),"connectionLineType"in S&&n(48,N=S.connectionLineType),"connectionMode"in S&&n(49,A=S.connectionMode),"connectionLineStyle"in S&&n(6,G=S.connectionLineStyle),"connectionLineContainerStyle"in S&&n(7,j=S.connectionLineContainerStyle),"onMoveStart"in S&&n(8,le=S.onMoveStart),"onMove"in S&&n(9,Y=S.onMove),"onMoveEnd"in S&&n(10,$=S.onMoveEnd),"isValidConnection"in S&&n(50,X=S.isValidConnection),"translateExtent"in S&&n(51,ie=S.translateExtent),"onlyRenderVisibleElements"in S&&n(52,ge=S.onlyRenderVisibleElements),"panOnScrollMode"in S&&n(11,K=S.panOnScrollMode),"preventScrolling"in S&&n(12,we=S.preventScrolling),"zoomOnScroll"in S&&n(13,Ve=S.zoomOnScroll),"zoomOnDoubleClick"in S&&n(14,Je=S.zoomOnDoubleClick),"zoomOnPinch"in S&&n(15,Ye=S.zoomOnPinch),"panOnScroll"in S&&n(16,Qe=S.panOnScroll),"panOnDrag"in S&&n(17,ve=S.panOnDrag),"selectionOnDrag"in S&&n(18,vt=S.selectionOnDrag),"autoPanOnConnect"in S&&n(53,ft=S.autoPanOnConnect),"autoPanOnNodeDrag"in S&&n(54,dt=S.autoPanOnNodeDrag),"onerror"in S&&n(55,ht=S.onerror),"ondelete"in S&&n(56,J=S.ondelete),"attributionPosition"in S&&n(19,W=S.attributionPosition),"proOptions"in S&&n(20,It=S.proOptions),"defaultEdgeOptions"in S&&n(21,st=S.defaultEdgeOptions),"width"in S&&n(57,nt=S.width),"height"in S&&n(58,Bn=S.height),"colorMode"in S&&n(59,Xn=S.colorMode),"defaultMarkerColor"in S&&n(60,Yn=S.defaultMarkerColor),"style"in S&&n(22,Si=S.style),"class"in S&&n(23,Ei=S.class),"$$scope"in S&&n(82,c=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&kt!==void 0&&pt!==void 0&&(Ie.width.set(kt),Ie.height.set(pt)),t.$$.dirty[1]&602930177&&eh(Ie,{flowId:f,connectionLineType:N,connectionRadius:R,selectionMode:I,snapGrid:b,defaultMarkerColor:Yn,nodesDraggable:L,nodesConnectable:C,elementsSelectable:M,onlyRenderVisibleElements:ge,isValidConnection:X,autoPanOnConnect:ft,autoPanOnNodeDrag:dt,onerror:ht,ondelete:J,connectionMode:A,nodeDragThreshold:_}),t.$$.dirty[1]&1049440&&Eo(Ie,{nodeTypes:H,edgeTypes:z,minZoom:y,maxZoom:E,translateExtent:ie}),t.$$.dirty[1]&268435456&&a(n(27,i=nh(Xn)))},[v,F,q,T,V,P,G,j,le,Y,$,K,we,Ve,Je,Ye,Qe,ve,vt,W,It,st,Si,Ei,kt,pt,on,i,s,r,d,f,h,m,g,w,y,E,k,H,z,I,L,C,_,M,b,R,N,A,X,ie,ge,ft,dt,ht,J,nt,Bn,Xn,Yn,u,Br,Xr,Yr,Lr,Kr,Wr,Fr,Zr,qr,Gr,Ur,Jr,Qr,jr,xr,$r,el,tl,nl,il,c]}class ch extends ce{constructor(e){super(),fe(this,e,uh,ah,de,{id:31,nodes:32,edges:33,fitView:34,fitViewOptions:35,minZoom:36,maxZoom:37,initialViewport:0,viewport:38,nodeTypes:39,edgeTypes:40,selectionKey:1,selectionMode:41,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:42,nodesConnectable:43,nodeDragThreshold:44,elementsSelectable:45,snapGrid:46,deleteKey:5,connectionRadius:47,connectionLineType:48,connectionMode:49,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:50,translateExtent:51,onlyRenderVisibleElements:52,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:53,autoPanOnNodeDrag:54,onerror:55,ondelete:56,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:57,height:58,colorMode:59,defaultMarkerColor:60,style:22,class:23},null,[-1,-1,-1])}}const fh=ch,dh=t=>({}),Co=t=>({class:"button-svg"});function hh(t){let e,n,i,o,r;const s=t[8].default,l=Fe(s,t,t[7],Co);let a=[{type:"button"},{class:n=Pe(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let c=0;c<a.length;c+=1)u=Me(u,a[c]);return{c(){e=Ce("button"),l&&l.c(),this.h()},l(c){e=ze(c,"BUTTON",{type:!0,class:!0});var d=se(e);l&&l.l(d),d.forEach(O),this.h()},h(){zt(e,u),ae(e,"--controls-button-background-color-props",t[1]),ae(e,"--controls-button-background-color-hover-props",t[2]),ae(e,"--controls-button-color-props",t[3]),ae(e,"--controls-button-color-hover-props",t[4]),ae(e,"--controls-button-border-color-props",t[5])},m(c,d){Z(c,e,d),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=ke(e,"click",t[9]),o=!0)},p(c,[d]){l&&l.p&&(!i||d&128)&&Ze(l,s,c,c[7],i?Ge(s,c[7],d,dh):qe(c[7]),Co),zt(e,u=ut(a,[{type:"button"},(!i||d&1&&n!==(n=Pe(["svelte-flow__controls-button",c[0]])))&&{class:n},d&64&&c[6]])),ae(e,"--controls-button-background-color-props",c[1]),ae(e,"--controls-button-background-color-hover-props",c[2]),ae(e,"--controls-button-color-props",c[3]),ae(e,"--controls-button-color-hover-props",c[4]),ae(e,"--controls-button-border-color-props",c[5])},i(c){i||(D(l,c),i=!0)},o(c){B(l,c),i=!1},d(c){c&&O(e),l&&l.d(c),o=!1,r()}}}function gh(t,e,n){const i=["class"];let o=Pt(e,i),{$$slots:r={},$$scope:s}=e,{class:l}=e,a,u,c,d,f;function h(m){x.call(this,t,m)}return t.$$set=m=>{e=Me(Me({},e),We(m)),n(6,o=Pt(e,i)),"class"in m&&n(0,l=m.class),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,c,d,f,o,s,r,h]}class mh extends ce{constructor(e){super(),fe(this,e,gh,hh,de,{class:0})}}const On=mh;function _h(t){let e,n;return{c(){e=ye("svg"),n=ye("path"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,viewBox:!0});var o=se(e);n=be(o,"path",{d:!0}),se(n).forEach(O),o.forEach(O),this.h()},h(){p(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 32")},m(i,o){Z(i,e,o),Oe(e,n)},p:_e,i:_e,o:_e,d(i){i&&O(e)}}}class yh extends ce{constructor(e){super(),fe(this,e,null,_h,de,{})}}const bh=yh;function wh(t){let e,n;return{c(){e=ye("svg"),n=ye("path"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,viewBox:!0});var o=se(e);n=be(o,"path",{d:!0}),se(n).forEach(O),o.forEach(O),this.h()},h(){p(n,"d","M0 0h32v4.2H0z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 5")},m(i,o){Z(i,e,o),Oe(e,n)},p:_e,i:_e,o:_e,d(i){i&&O(e)}}}class vh extends ce{constructor(e){super(),fe(this,e,null,wh,de,{})}}const kh=vh;function ph(t){let e,n;return{c(){e=ye("svg"),n=ye("path"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,viewBox:!0});var o=se(e);n=be(o,"path",{d:!0}),se(n).forEach(O),o.forEach(O),this.h()},h(){p(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 30")},m(i,o){Z(i,e,o),Oe(e,n)},p:_e,i:_e,o:_e,d(i){i&&O(e)}}}class Sh extends ce{constructor(e){super(),fe(this,e,null,ph,de,{})}}const Eh=Sh;function Mh(t){let e,n;return{c(){e=ye("svg"),n=ye("path"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,viewBox:!0});var o=se(e);n=be(o,"path",{d:!0}),se(n).forEach(O),o.forEach(O),this.h()},h(){p(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 25 32")},m(i,o){Z(i,e,o),Oe(e,n)},p:_e,i:_e,o:_e,d(i){i&&O(e)}}}class Ch extends ce{constructor(e){super(),fe(this,e,null,Mh,de,{})}}const zh=Ch;function Ph(t){let e,n;return{c(){e=ye("svg"),n=ye("path"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,viewBox:!0});var o=se(e);n=be(o,"path",{d:!0}),se(n).forEach(O),o.forEach(O),this.h()},h(){p(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 25 32")},m(i,o){Z(i,e,o),Oe(e,n)},p:_e,i:_e,o:_e,d(i){i&&O(e)}}}class Nh extends ce{constructor(e){super(),fe(this,e,null,Ph,de,{})}}const Oh=Nh;function zo(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[5]},t[13]];let s={$$slots:{default:[Ah]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Me(s,r[u]);e=new On({props:s}),e.$on("click",t[14]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[6]},t[13]];let a={$$slots:{default:[Th]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Me(a,l[u]);return i=new On({props:a}),i.$on("click",t[15]),{c(){ee(e.$$.fragment),n=pe(),ee(i.$$.fragment)},l(u){re(e.$$.fragment,u),n=Se(u),re(i.$$.fragment,u)},m(u,c){te(e,u,c),Z(u,n,c),te(i,u,c),o=!0},p(u,c){const d=c[0]&8224?ut(r,[r[0],r[1],r[2],c[0]&32&&{disabled:u[5]},c[0]&8192&&Ft(u[13])]):{};c[1]&2&&(d.$$scope={dirty:c,ctx:u}),e.$set(d);const f=c[0]&8256?ut(l,[l[0],l[1],l[2],c[0]&64&&{disabled:u[6]},c[0]&8192&&Ft(u[13])]):{};c[1]&2&&(f.$$scope={dirty:c,ctx:u}),i.$set(f)},i(u){o||(D(e.$$.fragment,u),D(i.$$.fragment,u),o=!0)},o(u){B(e.$$.fragment,u),B(i.$$.fragment,u),o=!1},d(u){u&&O(n),ne(e,u),ne(i,u)}}}function Ah(t){let e,n;return e=new bh({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Th(t){let e,n;return e=new kh({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Po(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[13]];let o={$$slots:{default:[Hh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Me(o,i[r]);return e=new On({props:o}),e.$on("click",t[16]),{c(){ee(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,s){te(e,r,s),n=!0},p(r,s){const l=s[0]&8192?ut(i,[i[0],i[1],i[2],Ft(r[13])]):{};s[1]&2&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){B(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Hh(t){let e,n;return e=new Eh({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function No(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[13]];let o={$$slots:{default:[Ih]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Me(o,i[r]);return e=new On({props:o}),e.$on("click",t[17]),{c(){ee(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,s){te(e,r,s),n=!0},p(r,s){const l=s[0]&8192?ut(i,[i[0],i[1],i[2],Ft(r[13])]):{};s[0]&16|s[1]&2&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){B(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Dh(t){let e,n;return e=new zh({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Vh(t){let e,n;return e=new Oh({}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Ih(t){let e,n,i,o;const r=[Vh,Dh],s=[];function l(a,u){return a[4]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=me()},l(a){n.l(a),i=me()},m(a,u){s[e].m(a,u),Z(a,i,u),o=!0},p(a,u){let c=e;e=l(a),e!==c&&(Ae(),B(s[c],1,1,()=>{s[c]=null}),Te(),n=s[e],n||(n=s[e]=r[e](a),n.c()),D(n,1),n.m(i.parentNode,i))},i(a){o||(D(n),o=!0)},o(a){B(n),o=!1},d(a){a&&O(i),s[e].d(a)}}}function Rh(t){let e,n,i,o,r=t[1]&&zo(t),s=t[2]&&Po(t),l=t[3]&&No(t);return{c(){r&&r.c(),e=pe(),s&&s.c(),n=pe(),l&&l.c(),i=me()},l(a){r&&r.l(a),e=Se(a),s&&s.l(a),n=Se(a),l&&l.l(a),i=me()},m(a,u){r&&r.m(a,u),Z(a,e,u),s&&s.m(a,u),Z(a,n,u),l&&l.m(a,u),Z(a,i,u),o=!0},p(a,u){a[1]?r?(r.p(a,u),u[0]&2&&D(r,1)):(r=zo(a),r.c(),D(r,1),r.m(e.parentNode,e)):r&&(Ae(),B(r,1,1,()=>{r=null}),Te()),a[2]?s?(s.p(a,u),u[0]&4&&D(s,1)):(s=Po(a),s.c(),D(s,1),s.m(n.parentNode,n)):s&&(Ae(),B(s,1,1,()=>{s=null}),Te()),a[3]?l?(l.p(a,u),u[0]&8&&D(l,1)):(l=No(a),l.c(),D(l,1),l.m(i.parentNode,i)):l&&(Ae(),B(l,1,1,()=>{l=null}),Te())},i(a){o||(D(r),D(s),D(l),o=!0)},o(a){B(r),B(s),B(l),o=!1},d(a){a&&(O(e),O(n),O(i)),r&&r.d(a),s&&s.d(a),l&&l.d(a)}}}function Bh(t){let e,n;return e=new pi({props:{class:"svelte-flow__controls",position:t[0],"data-testid":"svelte-flow__controls",$$slots:{default:[Rh]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&126|o[1]&2&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Xh(t,e,n){let i,o,r,s,l,a,u,c,d,{position:f="bottom-left"}=e,{showZoom:h=!0}=e,{showFitView:m=!0}=e,{showLock:g=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:y=void 0}=e,{buttonColor:E=void 0}=e,{buttonColorHover:v=void 0}=e,{buttonBorderColor:k=void 0}=e;const{zoomIn:H,zoomOut:z,fitView:F,viewport:I,minZoom:q,maxZoom:T,nodesDraggable:V,nodesConnectable:L,elementsSelectable:C}=He();U(t,I,N=>n(24,l=N)),U(t,q,N=>n(25,a=N)),U(t,T,N=>n(23,s=N)),U(t,V,N=>n(28,d=N)),U(t,L,N=>n(27,c=N)),U(t,C,N=>n(26,u=N));const _={bgColor:w,bgColorHover:y,color:E,colorHover:v,borderColor:k},M=()=>{H()},b=()=>{z()},P=()=>{F()},R=()=>{n(4,i=!i),V.set(i),L.set(i),C.set(i)};return t.$$set=N=>{"position"in N&&n(0,f=N.position),"showZoom"in N&&n(1,h=N.showZoom),"showFitView"in N&&n(2,m=N.showFitView),"showLock"in N&&n(3,g=N.showLock),"buttonBgColor"in N&&n(18,w=N.buttonBgColor),"buttonBgColorHover"in N&&n(19,y=N.buttonBgColorHover),"buttonColor"in N&&n(20,E=N.buttonColor),"buttonColorHover"in N&&n(21,v=N.buttonColorHover),"buttonBorderColor"in N&&n(22,k=N.buttonBorderColor)},t.$$.update=()=>{t.$$.dirty[0]&469762048&&n(4,i=d||c||u),t.$$.dirty[0]&50331648&&n(6,o=l.zoom<=a),t.$$.dirty[0]&25165824&&n(5,r=l.zoom>=s)},[f,h,m,g,i,r,o,I,q,T,V,L,C,_,M,b,P,R,w,y,E,v,k,s,l,a,u,c,d]}class Yh extends ce{constructor(e){super(),fe(this,e,Xh,Bh,de,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:18,buttonBgColorHover:19,buttonColor:20,buttonColorHover:21,buttonBorderColor:22},null,[-1,-1])}}const Lh=Yh;function Kh(t){let e,n,i;return{c(){e=ye("rect"),this.h()},l(o){e=be(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),se(e).forEach(O),this.h()},h(){p(e,"class",n=Pe(["svelte-flow__minimap-node",t[10]])),p(e,"x",t[0]),p(e,"y",t[1]),p(e,"rx",t[4]),p(e,"ry",t[4]),p(e,"width",t[2]),p(e,"height",t[3]),p(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),p(e,"shape-rendering",t[6]),he(e,"selected",t[9])},m(o,r){Z(o,e,r)},p(o,[r]){r&1024&&n!==(n=Pe(["svelte-flow__minimap-node",o[10]]))&&p(e,"class",n),r&1&&p(e,"x",o[0]),r&2&&p(e,"y",o[1]),r&16&&p(e,"rx",o[4]),r&16&&p(e,"ry",o[4]),r&4&&p(e,"width",o[2]),r&8&&p(e,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&p(e,"style",i),r&64&&p(e,"shape-rendering",o[6]),r&1536&&he(e,"selected",o[9])},i:_e,o:_e,d(o){o&&O(e)}}}function Wh(t,e,n){let{x:i}=e,{y:o}=e,{width:r=0}=e,{height:s=0}=e,{borderRadius:l=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:c=void 0}=e,{strokeWidth:d=2}=e,{selected:f=!1}=e,{class:h=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,r=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,l=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,c=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,f=m.selected),"class"in m&&n(10,h=m.class)},[i,o,r,s,l,a,u,c,d,f,h]}class Fh extends ce{constructor(e){super(),fe(this,e,Wh,Kh,de,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}const Zh=Fh;function qh(t,e){const n=Pc({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=Q(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Oo(t,e,n){const i=t.slice();return i[53]=e[n],i}function jn(t){const e=t.slice(),n=Vt(e[53]).positionAbsolute;return e[56]=n,e}function Ao(t){let e,n,i=[],o=new Map,r,s,l,a,u,c,d,f=t[1]&&To(t),h=et(t[18]);const m=g=>g[53].id;for(let g=0;g<h.length;g+=1){let w=Oo(t,h,g),y=m(w);o.set(y,i[g]=Do(y,w))}return{c(){e=ye("svg"),f&&f.c(),n=me();for(let g=0;g<i.length;g+=1)i[g].c();r=ye("path"),this.h()},l(g){e=be(g,"svg",{width:!0,height:!0,viewBox:!0,role:!0,"aria-labelledby":!0});var w=se(e);f&&f.l(w),n=me();for(let y=0;y<i.length;y+=1)i[y].l(w);r=be(w,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),se(r).forEach(O),w.forEach(O),this.h()},h(){p(r,"class","svelte-flow__minimap-mask"),p(r,"d",s="M"+(t[24]-t[14])+","+(t[23]-t[14])+"h"+(t[22]+t[14]*2)+"v"+(t[21]+t[14]*2)+"h"+(-t[22]-t[14]*2)+`z
      M`+t[17].x+","+t[17].y+"h"+t[17].width+"v"+t[17].height+"h"+-t[17].width+"z"),p(r,"fill-rule","evenodd"),p(r,"pointer-events","none"),p(e,"width",t[16]),p(e,"height",t[15]),p(e,"viewBox",l=t[24]+" "+t[23]+" "+t[22]+" "+t[21]),p(e,"role","img"),p(e,"aria-labelledby",t[38]),ae(e,"--minimap-background-color-props",t[4]),ae(e,"--minimap-mask-color-props",t[5]),ae(e,"--minimap-mask-stroke-color-props",t[6]),ae(e,"--minimap-mask-stroke-width-props",t[7])},m(g,w){Z(g,e,w),f&&f.m(e,null),Oe(e,n);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(e,null);Oe(e,r),u=!0,c||(d=De(a=qh.call(null,e,{panZoom:t[25],viewport:t[28],getViewScale:t[39],translateExtent:t[26],width:t[20],height:t[19],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),c=!0)},p(g,w){g[1]?f?f.p(g,w):(f=To(g),f.c(),f.m(e,n)):f&&(f.d(1),f=null),w[0]&262156|w[1]&120&&(h=et(g[18]),Ae(),i=jt(i,w,m,1,g,h,o,e,xt,Do,r,Oo),Te()),(!u||w[0]&31604736&&s!==(s="M"+(g[24]-g[14])+","+(g[23]-g[14])+"h"+(g[22]+g[14]*2)+"v"+(g[21]+g[14]*2)+"h"+(-g[22]-g[14]*2)+`z
      M`+g[17].x+","+g[17].y+"h"+g[17].width+"v"+g[17].height+"h"+-g[17].width+"z"))&&p(r,"d",s),(!u||w[0]&65536)&&p(e,"width",g[16]),(!u||w[0]&32768)&&p(e,"height",g[15]),(!u||w[0]&31457280&&l!==(l=g[24]+" "+g[23]+" "+g[22]+" "+g[21]))&&p(e,"viewBox",l),a&&Ne(a.update)&&w[0]&10224e4&&a.update.call(null,{panZoom:g[25],viewport:g[28],getViewScale:g[39],translateExtent:g[26],width:g[20],height:g[19],inversePan:g[10],zoomStep:g[11],pannable:g[8],zoomable:g[9]}),w[0]&16&&ae(e,"--minimap-background-color-props",g[4]),w[0]&32&&ae(e,"--minimap-mask-color-props",g[5]),w[0]&64&&ae(e,"--minimap-mask-stroke-color-props",g[6]),w[0]&128&&ae(e,"--minimap-mask-stroke-width-props",g[7])},i(g){if(!u){for(let w=0;w<h.length;w+=1)D(i[w]);u=!0}},o(g){for(let w=0;w<i.length;w+=1)B(i[w]);u=!1},d(g){g&&O(e),f&&f.d();for(let w=0;w<i.length;w+=1)i[w].d();c=!1,d()}}}function To(t){let e,n;return{c(){e=ye("title"),n=Tt(t[1]),this.h()},l(i){e=be(i,"title",{id:!0});var o=se(e);n=Ht(o,t[1]),o.forEach(O),this.h()},h(){p(e,"id",t[38])},m(i,o){Z(i,e,o),Oe(e,n)},p(i,o){o[0]&2&&Dt(n,i[1])},d(i){i&&O(e)}}}function Ho(t){var i,o,r;let e,n;return e=new Zh({props:{x:t[56].x,y:t[56].y,width:((i=t[53].computed)==null?void 0:i.width)??t[53].width??0,height:((o=t[53].computed)==null?void 0:o.height)??t[53].height??0,selected:t[53].selected,color:(r=t[34])==null?void 0:r.call(t,t[53]),borderRadius:t[2],strokeColor:t[35](t[53]),strokeWidth:t[3],shapeRendering:t[37],class:t[36](t[53])}}),{c(){ee(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,l){te(e,s,l),n=!0},p(s,l){var u,c,d;const a={};l[0]&262144&&(a.x=s[56].x),l[0]&262144&&(a.y=s[56].y),l[0]&262144&&(a.width=((u=s[53].computed)==null?void 0:u.width)??s[53].width??0),l[0]&262144&&(a.height=((c=s[53].computed)==null?void 0:c.height)??s[53].height??0),l[0]&262144&&(a.selected=s[53].selected),l[0]&262144&&(a.color=(d=s[34])==null?void 0:d.call(s,s[53])),l[0]&4&&(a.borderRadius=s[2]),l[0]&262144&&(a.strokeColor=s[35](s[53])),l[0]&8&&(a.strokeWidth=s[3]),l[0]&262144&&(a.class=s[36](s[53])),e.$set(a)},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){ne(e,s)}}}function Do(t,e){var s,l,a;let n,i,o,r=(((s=e[53].computed)==null?void 0:s.width)||((l=e[53])==null?void 0:l.width))&&(((a=e[53].computed)==null?void 0:a.height)||e[53].height)&&Ho(jn(e));return{key:t,first:null,c(){n=me(),r&&r.c(),i=me(),this.h()},l(u){n=me(),r&&r.l(u),i=me(),this.h()},h(){this.first=n},m(u,c){Z(u,n,c),r&&r.m(u,c),Z(u,i,c),o=!0},p(u,c){var d,f,h;e=u,((d=e[53].computed)!=null&&d.width||(f=e[53])!=null&&f.width)&&((h=e[53].computed)!=null&&h.height||e[53].height)?r?(r.p(jn(e),c),c[0]&262144&&D(r,1)):(r=Ho(jn(e)),r.c(),D(r,1),r.m(i.parentNode,i)):r&&(Ae(),B(r,1,1,()=>{r=null}),Te())},i(u){o||(D(r),o=!0)},o(u){B(r),o=!1},d(u){u&&(O(n),O(i)),r&&r.d(u)}}}function Gh(t){let e,n,i=t[25]&&Ao(t);return{c(){i&&i.c(),e=me()},l(o){i&&i.l(o),e=me()},m(o,r){i&&i.m(o,r),Z(o,e,r),n=!0},p(o,r){o[25]?i?(i.p(o,r),r[0]&33554432&&D(i,1)):(i=Ao(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Ae(),B(i,1,1,()=>{i=null}),Te())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&O(e),i&&i.d(o)}}}function Uh(t){let e,n;return e=new pi({props:{position:t[0],style:t[12],class:Pe(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[Gh]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4096&&(r.style=i[12]),o[0]&8192&&(r.class=Pe(["svelte-flow__minimap",i[13]])),o[0]&134205438|o[1]&67108864&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}const xn=t=>t instanceof Function?t:()=>t,Jh=200,Qh=150;function jh(t,e,n){let i,o,r,s,l,a,u,c,d,f,h,m,g,w,y,E,v,k,H,z,F,{position:I="bottom-right"}=e,{ariaLabel:q="Mini map"}=e,{nodeStrokeColor:T="transparent"}=e,{nodeColor:V=void 0}=e,{nodeClass:L=""}=e,{nodeBorderRadius:C=5}=e,{nodeStrokeWidth:_=2}=e,{bgColor:M=void 0}=e,{maskColor:b=void 0}=e,{maskStrokeColor:P=void 0}=e,{maskStrokeWidth:R=void 0}=e,{width:N=void 0}=e,{height:A=void 0}=e,{pannable:G=!0}=e,{zoomable:j=!0}=e,{inversePan:le=void 0}=e,{zoomStep:Y=void 0}=e,{style:$=""}=e,{class:X=""}=e;const{nodes:ie,viewport:ge,width:K,height:we,flowId:Ve,panZoom:Je,translateExtent:Ye}=He();U(t,ie,J=>n(18,y=J)),U(t,ge,J=>n(51,E=J)),U(t,K,J=>n(20,k=J)),U(t,we,J=>n(19,v=J)),U(t,Ve,J=>n(52,H=J)),U(t,Je,J=>n(25,z=J)),U(t,Ye,J=>n(26,F=J));const Qe=V===void 0?void 0:xn(V),ve=xn(T),vt=xn(L),ft=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",dt=`svelte-flow__minimap-desc-${H}`,ht=()=>u;return t.$$set=J=>{"position"in J&&n(0,I=J.position),"ariaLabel"in J&&n(1,q=J.ariaLabel),"nodeStrokeColor"in J&&n(40,T=J.nodeStrokeColor),"nodeColor"in J&&n(41,V=J.nodeColor),"nodeClass"in J&&n(42,L=J.nodeClass),"nodeBorderRadius"in J&&n(2,C=J.nodeBorderRadius),"nodeStrokeWidth"in J&&n(3,_=J.nodeStrokeWidth),"bgColor"in J&&n(4,M=J.bgColor),"maskColor"in J&&n(5,b=J.maskColor),"maskStrokeColor"in J&&n(6,P=J.maskStrokeColor),"maskStrokeWidth"in J&&n(7,R=J.maskStrokeWidth),"width"in J&&n(43,N=J.width),"height"in J&&n(44,A=J.height),"pannable"in J&&n(8,G=J.pannable),"zoomable"in J&&n(9,j=J.zoomable),"inversePan"in J&&n(10,le=J.inversePan),"zoomStep"in J&&n(11,Y=J.zoomStep),"style"in J&&n(12,$=J.style),"class"in J&&n(13,X=J.class)},t.$$.update=()=>{t.$$.dirty[0]&1572864|t.$$.dirty[1]&1048576&&n(17,i={x:-E.x/E.zoom,y:-E.y/E.zoom,width:k/E.zoom,height:v/E.zoom}),t.$$.dirty[0]&393216&&n(48,o=y.length>0?$u(nn(y),i):i),t.$$.dirty[1]&4096&&n(16,r=N??Jh),t.$$.dirty[1]&8192&&n(15,s=A??Qh),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(50,l=o.width/r),t.$$.dirty[0]&32768|t.$$.dirty[1]&131072&&n(49,a=o.height/s),t.$$.dirty[1]&786432&&n(45,u=Math.max(l,a)),t.$$.dirty[0]&65536|t.$$.dirty[1]&16384&&n(47,c=u*r),t.$$.dirty[0]&32768|t.$$.dirty[1]&16384&&n(46,d=u*s),t.$$.dirty[1]&16384&&n(14,f=5*u),t.$$.dirty[0]&16384|t.$$.dirty[1]&196608&&n(24,h=o.x-(c-o.width)/2-f),t.$$.dirty[0]&16384|t.$$.dirty[1]&163840&&n(23,m=o.y-(d-o.height)/2-f),t.$$.dirty[0]&16384|t.$$.dirty[1]&65536&&n(22,g=c+f*2),t.$$.dirty[0]&16384|t.$$.dirty[1]&32768&&n(21,w=d+f*2)},[I,q,C,_,M,b,P,R,G,j,le,Y,$,X,f,s,r,i,y,v,k,w,g,m,h,z,F,ie,ge,K,we,Ve,Je,Ye,Qe,ve,vt,ft,dt,ht,T,V,L,N,A,u,d,c,o,a,l,E]}class xh extends ce{constructor(e){super(),fe(this,e,jh,Uh,de,{position:0,ariaLabel:1,nodeStrokeColor:40,nodeColor:41,nodeClass:42,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:43,height:44,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const $h=xh;function e0(t){let e,n,i,o,r,s,l;return n=new hl({props:{center:[0,0],zoom:3,class:"map",standardControls:!0,style:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}}),o=new wt({props:{type:"target",position:ue.Top,class:"w-16 !bg-teal-500 rounded-none border-none"}}),o.$on("connect",t[1]),o.$on("connectend",t[2]),o.$on("connectstart",t[3]),s=new wt({props:{type:"source",position:ue.Bottom,class:"w-16 !bg-teal-500 rounded-none border-none"}}),s.$on("connect",t[4]),s.$on("connectend",t[5]),s.$on("connectstart",t[6]),{c(){e=Ce("div"),ee(n.$$.fragment),i=pe(),ee(o.$$.fragment),r=pe(),ee(s.$$.fragment),this.h()},l(a){e=ze(a,"DIV",{class:!0});var u=se(e);re(n.$$.fragment,u),i=Se(u),re(o.$$.fragment,u),r=Se(u),re(s.$$.fragment,u),u.forEach(O),this.h()},h(){p(e,"class","px-4 py-2 shadow-md rounded-md bg-white border-2 border-stone-400")},m(a,u){Z(a,e,u),te(n,e,null),Oe(e,i),te(o,e,null),Oe(e,r),te(s,e,null),l=!0},p:_e,i(a){l||(D(n.$$.fragment,a),D(o.$$.fragment,a),D(s.$$.fragment,a),l=!0)},o(a){B(n.$$.fragment,a),B(o.$$.fragment,a),B(s.$$.fragment,a),l=!1},d(a){a&&O(e),ne(n),ne(o),ne(s)}}}function t0(t,e,n){let{data:i}=e;function o(c){x.call(this,t,c)}function r(c){x.call(this,t,c)}function s(c){x.call(this,t,c)}function l(c){x.call(this,t,c)}function a(c){x.call(this,t,c)}function u(c){x.call(this,t,c)}return t.$$set=c=>{"data"in c&&n(0,i=c.data)},[i,o,r,s,l,a,u]}class n0 extends ce{constructor(e){super(),fe(this,e,t0,e0,de,{data:0})}}function i0(t){let e,n,i,o,r,s;const l=t[2].default,a=Fe(l,t,t[1],null);return{c(){e=Ce("div"),n=Ce("div"),i=Tt(t[0]),o=pe(),r=Ce("div"),a&&a.c(),this.h()},l(u){e=ze(u,"DIV",{class:!0});var c=se(e);n=ze(c,"DIV",{class:!0});var d=se(n);i=Ht(d,t[0]),d.forEach(O),o=Se(c),r=ze(c,"DIV",{class:!0});var f=se(r);a&&a.l(f),f.forEach(O),c.forEach(O),this.h()},h(){p(n,"class","text-xs px-3 py-2 border-b border-solid border-gray-200 font-mono font-semibold rounded-t-2xl family-mono text-[#0F172A]"),p(r,"class","relative bg-white p-3 flex rounded-b-2xl family-sans font-light text-xs text-[#757575]"),p(e,"class","flex flex-col border border-solid border-gray-200 h-full rounded-2xl bg-white/70 shadow-[0_7px_9px_0_rgba(0,0,0,0.02)]")},m(u,c){Z(u,e,c),Oe(e,n),Oe(n,i),Oe(e,o),Oe(e,r),a&&a.m(r,null),s=!0},p(u,[c]){(!s||c&1)&&Dt(i,u[0]),a&&a.p&&(!s||c&2)&&Ze(a,l,u,u[1],s?Ge(l,u[1],c,null):qe(u[1]),null)},i(u){s||(D(a,u),s=!0)},o(u){B(a,u),s=!1},d(u){u&&O(e),a&&a.d(u)}}}function o0(t,e,n){let{$$slots:i={},$$scope:o}=e,{label:r}=e;return t.$$set=s=>{"label"in s&&n(0,r=s.label),"$$scope"in s&&n(1,o=s.$$scope)},[r,o,i]}class r0 extends ce{constructor(e){super(),fe(this,e,o0,i0,de,{label:0})}}function l0(t){let e,n,i,o,r,s;return e=new wt({props:{type:"source",position:ue.Right}}),e.$on("connect",t[4]),e.$on("connectend",t[5]),e.$on("connectstart",t[6]),{c(){ee(e.$$.fragment),n=pe(),i=Ce("input"),this.h()},l(l){re(e.$$.fragment,l),n=Se(l),i=ze(l,"INPUT",{class:!0,style:!0,type:!0,min:!0,max:!0}),this.h()},h(){p(i,"class","nodrag accent-[#ff4000]"),ae(i,"direction","rtl"),p(i,"type","range"),p(i,"min",a0),p(i,"max",u0)},m(l,a){te(e,l,a),Z(l,n,a),Z(l,i,a),Mi(i,t[0]),o=!0,r||(s=[ke(i,"change",t[7]),ke(i,"input",t[7])],r=!0)},p(l,a){a&1&&Mi(i,l[0])},i(l){o||(D(e.$$.fragment,l),o=!0)},o(l){B(e.$$.fragment,l),o=!1},d(l){l&&(O(n),O(i)),ne(e,l),r=!1,ct(s)}}}function s0(t){let e,n;return e=new r0({props:{label:t[1],$$slots:{default:[l0]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){te(e,i,o),n=!0},p(i,[o]){const r={};o&513&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}const a0=0,u0=40;function c0(t,e,n){let i,{data:o}=e;const{label:r,flowState:s}=o;U(t,s,f=>n(8,i=f));let l=i.zoom;function a(f){x.call(this,t,f)}function u(f){x.call(this,t,f)}function c(f){x.call(this,t,f)}function d(){l=dl(this.value),n(0,l)}return t.$$set=f=>{"data"in f&&n(3,o=f.data)},t.$$.update=()=>{t.$$.dirty&1&&fl(s,i.zoom=l,i)},[l,r,s,o,a,u,c,d]}class f0 extends ce{constructor(e){super(),fe(this,e,c0,s0,de,{data:3})}}const d0=oe({color:"#ff4000",zoom:17,shape:"cube"}),h0=[{id:"1",type:"custom",data:{name:"Jane Doe",job:"CEO",emoji:"😎"},position:{x:0,y:200},dragHandle:".custom-drag-area",style:"resize: both;"},{id:"2",type:"sliderzoomnode",position:{x:40,y:50},data:{flowState:d0,label:"zoom level"},class:"w-[150px]"}],g0=[{id:"e1-2",source:"2",target:"1"},{id:"e1-3",source:"1",target:"3"}];function m0(t){let e,n,i,o;return e=new $h({}),i=new Lh({}),{c(){ee(e.$$.fragment),n=pe(),ee(i.$$.fragment)},l(r){re(e.$$.fragment,r),n=Se(r),re(i.$$.fragment,r)},m(r,s){te(e,r,s),Z(r,n,s),te(i,r,s),o=!0},i(r){o||(D(e.$$.fragment,r),D(i.$$.fragment,r),o=!0)},o(r){B(e.$$.fragment,r),B(i.$$.fragment,r),o=!1},d(r){r&&O(n),ne(e,r),ne(i,r)}}}function _0(t){let e,n,i;return n=new fh({props:{nodes:t[0],nodeTypes:t[2],edges:t[1],proOptions:t[3],fitView:!0,class:"bg-teal-50",$$slots:{default:[m0]},$$scope:{ctx:t}}}),{c(){e=Ce("div"),ee(n.$$.fragment),this.h()},l(o){e=ze(o,"DIV",{style:!0});var r=se(e);re(n.$$.fragment,r),r.forEach(O),this.h()},h(){ae(e,"height","100vh")},m(o,r){Z(o,e,r),te(n,e,null),i=!0},p(o,[r]){const s={};r&16&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(D(n.$$.fragment,o),i=!0)},o(o){B(n.$$.fragment,o),i=!1},d(o){o&&O(e),ne(n)}}}function y0(t){const e=oe(h0),n=oe(g0);return[e,n,{custom:n0,sliderzoomnode:f0},{hideAttribution:!0}]}class S0 extends ce{constructor(e){super(),fe(this,e,y0,_0,de,{})}}export{S0 as component};
